import{a as i,d as b}from"./preload-Bkn8oLcg.js";import{f as S,t as h,v as m,j as T}from"./index-CQPXF1yw.js";import{S as R,e as y}from"./smart-link-_8ynIHSt.js";const H=24;let u;const x=e=>{try{if(typeof CSS<"u"&&CSS.escape)return CSS.escape(e)}catch{}return e},C=(e,a)=>{const s=(()=>{const r=a.replace(/^#/,"");try{return decodeURIComponent(r)}catch{return r}})();if(!s)return null;const l=x(s);return e.querySelector(`[${m}="${s}"]`)??e.querySelector(`#${l}`)},v=(e,a,s=0)=>{const l=e.getBoundingClientRect();return a.getBoundingClientRect().top-l.top+e.scrollTop-s};function _(){const e=t=>{u=t},a=i.useCallback(()=>{const t=u?.current;if(!t)return;const o=Math.abs(Math.round(t.scrollTop)+t.clientHeight-t.scrollHeight)<2;return t.scrollTop===0?"0":o?"1":`${(t.scrollTop+t.clientHeight/2)/t.scrollHeight}`},[]),s=i.useCallback(t=>{const o=u?.current;return!o||!t?0:Math.round(t*o.scrollHeight-o.clientHeight/2)},[]),l=i.useCallback(()=>{u?.current?.scrollTo({top:0,behavior:"smooth"})},[]),r=i.useCallback(t=>{const o=t===void 0?typeof window<"u"?S(window.location):"/":S(t),{hash:c}=h(o);if(!c)return!1;const n=u?.current;if(!n)return!1;const p=C(n,c);if(!p)return!1;const f=v(n,p,H);return n.scrollTo({top:Math.max(0,f),behavior:"instant"}),!0},[]),d=i.useCallback(({relative:t,absolute:o})=>{const c=u?.current;if(!c)return;let n=0;o!==void 0&&(n=Number(o)),t!==void 0&&(n=s(Number(t))),n&&c.scrollTo(0,n)},[s]);return{getRelativeScroll:a,getScrollTop:s,scrollToTop:l,scrollToHash:r,scrollToY:d,setRef:e,node:u?.current}}const j=({children:e,className:a,size:s,color:l,onClick:r,onConditionalClick:d,onCustomFocus:t,to:o,href:c,target:n,rel:p})=>{const f=b("text",a,{text__clickable:typeof r=="function"||typeof o=="string"||typeof c=="string"}),g={fontSize:s,color:l};return o||c?T.jsx(R,{to:o,href:c,target:n,rel:p,className:f,style:g,onClick:r,onConditionalClick:d,onCustomFocus:t,"aria-label":e,children:e}):T.jsx("span",{role:r?"button":void 0,tabIndex:r?0:void 0,className:f,style:g,onClick:r,onKeyDown:y(r),onMouseEnter:t,onFocus:t,"aria-label":e,children:e})};export{j as C,_ as u};
