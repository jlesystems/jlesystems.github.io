import{j as a}from"./index-QUIBNdhf.js";import{a as e,d as j,N as h}from"./preload-B4Zq_aYf.js";import{w as k,S}from"./site-wrapper-m5u64Fcu.js";import{u as g,a as v}from"./lazy-image-XFUWK4-M.js";import"./text-CtQzzGI8.js";function E(){const[r,s]=e.useState(!1),[n,d]=e.useState(!1);return{ready:r,setReady:s,initialized:n,setInitialized:d}}const z="6",I={rows:z},N=({filePath:r,language:s,onInitialized:n,onReady:d,conditionalBack:o,components:i,className:c,rows:w=Number(I.rows),waitOnImageLoad:x=!1})=>{const{ready:t,shouldAnimate:u,fadeIn:y,setReady:f,reset:m}=g(),l=e.useRef(),p=e.useRef(),R=e.useRef(void 0);return e.useEffect(()=>{p.current=n},[n]),e.useEffect(()=>{l.current=d},[d]),e.useEffect(()=>{(t===void 0||t!==R.current)&&(R.current=t,p.current?.(t!==void 0),l.current?.(t===!0))},[t]),e.useEffect(()=>{m(),f(!1)},[s,r,m,f]),a.jsxs("div",{className:j("markdown-renderer-gated",c,{"markdown-renderer-gated__fade":u,"markdown-renderer-gated__fade-in":u&&y}),children:[t===!1&&a.jsx(v,{active:!0,paragraph:{rows:w}}),a.jsx(e.Suspense,{children:a.jsx(h,{filePath:r,language:s,onReady:f,conditionalBack:o,components:i,waitOnImageLoad:x})})]})},G=({filePath:r,conditionalBack:s,language:n})=>{const{ready:d,setReady:o,initialized:i,setInitialized:c}=E();return a.jsx(S,{ready:d,initialized:i,children:a.jsx("div",{className:"generic-page",children:a.jsx(N,{filePath:r,language:n,onReady:o,onInitialized:c,conditionalBack:s})})})},A=k(G,(r,s)=>`${r}/${s.filePath}`);export{A as default};
