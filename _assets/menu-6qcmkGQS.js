import{u as w,a as A,b as ne,s as oe,r as b,S as i,g as ae,c as re,p as ie,j as e,e as ue,d as X,f as ce,h as le,i as p,k as me,n as z,l as G,I as D,R as de,m as P,G as fe,N as pe,L as _e}from"./index-Ch7yz1B4.js";import{B as Y,G as R,a as t,i as xe,d as x,y as j,H,I as Ie,J as Te,K as Ne,M as v,L as Ee}from"./preload-iQE1V3po.js";import{S as he,L as Se}from"./lazy-image-BtXwOYhs.js";import{C as Q,u as ge}from"./text-Bd3bD4Fs.js";import{C}from"./button-C2WgwmFu.js";const $=null;[...Y.menuItems.map(a=>a.routeName),R.LegalNotice,R.PrivacyPolicy,R.Terms,R.Info];const F=Y.menuItems[0].routeName||"",je="0.5s",Me={sideBarTransitionTime:je},Le=xe()?t.useLayoutEffect:t.useEffect,W="expanded",Re=100;function be(a){const f=w(),{shrinking:c,growing:n}=A(),{withTimeout:o}=ne(),[d,h]=t.useState(!1),[l,u]=t.useState(),[M,S]=t.useState(!1),I=t.useRef(l),m=t.useRef(a),_=()=>{S(!0);const r=setTimeout(()=>{S(!1)},50);return()=>{clearTimeout(r)}},g=t.useCallback(r=>{r!==void 0&&o(()=>{oe(W,r.toString())},Re)},[o]);return t.useEffect(()=>{I.current=l,g(l),l!==void 0&&h(!0)},[l,g]),t.useEffect(()=>b(()=>{let r;return m.current===i.Mobile&&a!==i.Mobile&&(r=_()),m.current!==i.Desktop&&a===i.Desktop&&u(!0),m.current===i.Desktop&&a!==i.Desktop&&u(!1),m.current=a,()=>{r?.()}}),[a]),t.useEffect(()=>b(()=>{c&&m.current===i.Tablet&&u(!1),n&&m.current===i.Desktop&&u(!0)}),[c,n]),Le(()=>b(()=>{let r;const L=ae(W);return L?(r=_(),u(L==="true")):(m.current!==i.Desktop?u(!1):I.current===void 0&&(r=_(),u(!0)),g(I.current)),()=>{r?.()}}),[f.key,g]),{expanded:l,setExpanded:u,initialized:d,suppressTransition:M}}const ve=({className:a=""})=>{const{display:f,queue:c}=re(),{pathname:n}=w(),{focusPreload:o}=A(),d=t.useMemo(()=>o?()=>{ie(n,c[1])}:void 0,[o,n,c]);return e.jsx(C,{className:`language-rotator ${a}`,to:ue(n,c[0]),onClick:d,children:f})},Ce=({icon:a,name:f,expanded:c,selected:n,tooltip:o,noMargin:d,center:h,ellipsis:l,onClick:u,onConditionalClick:M,onCustomFocus:S,to:I,href:m})=>{const{t:_}=X();return e.jsxs(C,{className:x("menu-item",{"menu-item__no-margin":d,"menu-item__expanded":c}),selected:n,selectable:!0,noPadding:!0,tooltip:o,tooltipTitle:f,onClick:u,onConditionalClick:M,onCustomFocus:S,to:I,href:m,children:[e.jsx("div",{className:"menu-item__icon-container",children:a}),e.jsx("div",{className:x("menu-item__title",{"menu-item__title-center":h}),children:e.jsx(Q,{className:x("text__no-wrap",{"text__no-ellipsis":!l}),children:_(f)})})]})},K=p.applicationShortName,q=p.titleImagePath,J=p.menuItems;p.loginPolicy;const V=p.centerMenuComponent;p.showUnauthorizedProfile;const ke=p.languageSwitch,De=p.ellipsis.includes(v.Title),Pe=p.ellipsis.includes(v.MenuItem),we=me(Me.sideBarTransitionTime),ze=()=>{const a=ce(s=>s.user),f=w(),{t:c}=X(),{screenType:n}=A(),{expanded:o,setExpanded:d,initialized:h,suppressTransition:l}=be(n),{scrollToTop:u}=ge(),[M,S]=t.useState(!1),[I,m]=t.useState(!1),_=a?.authenticated,g=a?.role,r=t.useRef(null),L=t.useRef(null),B=t.useMemo(()=>n===i.Mobile,[n]),U=t.useMemo(()=>n!==i.Desktop,[n]);t.useMemo(()=>!0,[_]);const Z=t.useMemo(()=>!0,[_]);t.useMemo(()=>j.Settings,[Z]);const y=t.useMemo(()=>le(f.pathname),[f.pathname]),O=t.useMemo(()=>J.filter(s=>!0),[g]),k=t.useCallback(()=>{U&&d(!1),u()},[d,u,U]),T=()=>{const s=r.current;if(!s)return;const{scrollTop:N,scrollHeight:E,clientHeight:ee}=s,te=N<=1,se=E-N-ee<=1;S(!te),m(!se)};return t.useEffect(()=>b(()=>{const s=r.current;if(s)return T(),s.addEventListener("scroll",T),window.addEventListener("resize",T),()=>{s.removeEventListener("scroll",T),window.removeEventListener("resize",T)}}),[h]),t.useEffect(()=>{T()},[O.length]),t.useEffect(()=>{const s=setTimeout(()=>T(),we);return()=>clearTimeout(s)},[o]),h?e.jsxs("div",{className:"menu",children:[e.jsxs("div",{className:x("menu__sidebar",{"menu__sidebar-expanded":o,"menu__sidebar-suppress-transition":l}),children:[e.jsxs("header",{role:"banner",className:"menu__header",children:[e.jsx(C,{className:"menu__open-button",onClick:()=>{d(!o)},children:n!==i.Desktop?o?n===i.Tablet?e.jsx(H,{}):e.jsx(Ie,{}):e.jsx(Te,{}):o?e.jsx(H,{}):e.jsx(Ne,{})}),e.jsx(he,{className:x("menu__title",{"menu__title-center":V.includes(v.Title),"menu__title-clickable":B}),onConditionalClick:k,disabled:!B,to:"/",children:q?e.jsx(Se,{className:"menu__title-image",src:q,alt:K+" "+c("images.titleLogo"),objectFit:"contain"}):e.jsx(Q,{className:x("menu__title-text","text__no-wrap",{"text__no-ellipsis":!De}),children:K})})]}),e.jsx("nav",{role:"navigation",ref:r,className:x("menu__items",{"menu__items-top-border":M,"menu__items-bottom-border":I}),children:O.map(s=>{const N=s.routeName===F,E=N?"":s.routeName;return e.jsx(Ce,{icon:e.jsx(s.icon,{}),name:c(G(s.routeName).name),expanded:o,noMargin:N,ellipsis:Pe,center:V.includes(v.MenuItem),selected:E===y,tooltip:!o,to:z(E),onConditionalClick:k},`menuItem-${s.routeName}`)})}),e.jsxs("div",{className:"menu__footer",children:[$,D&&e.jsx(C,{className:"menu__footer-button",selected:y===j.Info,selectable:!0,tooltip:!0,tooltipTitle:c(G(j.Info).name),tooltipPlacement:o?"top":"right",to:z(j.Info),onConditionalClick:k,children:e.jsx(Ee,{})}),ke&&e.jsx(ve,{className:"menu__footer-button"})]})]}),e.jsx("div",{ref:L,className:x("menu__content",{"menu__content-expanded":o,"menu__content-suppress-transition":l}),onClick:()=>{n===i.Tablet&&d(!1)},children:e.jsx(t.Suspense,{fallback:e.jsx(_e,{}),children:e.jsxs(de,{children:[J.map(s=>{const N=s.routeName===F,E=s.page?s.page.pageImporter:void 0;return e.jsx(P,{path:N?"":s.routeName,element:E?e.jsx(E,{}):e.jsx(fe,{filePath:s.routeName})},`route-${s.routeName}`)}),$,D&&e.jsx(P,{path:j.Info,element:e.jsx(D,{})},`route-${j.Info}`),e.jsx(P,{path:"*",element:e.jsx(pe,{})},"route-not-found")]})})})]}):null};export{ze as default};
