import{r as e,j as n,i as j,x as S}from"./index-Jp8ywQ7B.js";import{w as h,S as k}from"./site-wrapper-oyngxo5C.js";import{u as E,S as g}from"./lazy-image-Bj9riu_5.js";import{M as v}from"./markdown-renderer.lazy-BSeSvawe.js";import"./smart-link-CxP0gVRy.js";import"./text-CMmbqBiZ.js";function z(){const[r,t]=e.useState(!1),[a,o]=e.useState(!1);return{ready:r,setReady:t,initialized:a,setInitialized:o}}const I="6",G={rows:I},N=({filePath:r,language:t,onInitialized:a,onReady:o,conditionalBack:d,components:i,className:c,rows:x=Number(G.rows),waitOnImageLoad:w=!1})=>{const{ready:s,shouldAnimate:f,fadeIn:y,setReady:u,reset:m}=E(),l=e.useRef(),p=e.useRef(),R=e.useRef(void 0);return e.useEffect(()=>{p.current=a},[a]),e.useEffect(()=>{l.current=o},[o]),e.useEffect(()=>{(s===void 0||s!==R.current)&&(R.current=s,p.current?.(s!==void 0),l.current?.(s===!0))},[s]),e.useEffect(()=>{m(),u(!1)},[t,r,m,u]),n.jsxs("div",{className:j("markdown-renderer-gated",c,{"markdown-renderer-gated__fade":f,"markdown-renderer-gated__fade-in":f&&y}),children:[s===!1&&n.jsx(g,{rows:x}),n.jsx(e.Suspense,{children:n.jsx(v,{filePath:r,language:t,onReady:u,conditionalBack:d,components:i,waitOnImageLoad:w})})]})},_=({route:r,conditionalBack:t,language:a})=>{const{ready:o,setReady:d,initialized:i,setInitialized:c}=z();return n.jsx(k,{ready:o,initialized:i,children:n.jsx("div",{className:"generic-page",children:n.jsx(N,{filePath:S(r),language:a,onReady:d,onInitialized:c,conditionalBack:t})})})},L=h(_,(r,t)=>`${r}/${t.route}`);export{L as default};
