import{u as P,a as D,b as Z,s as ee,r as L,S as a,g as te,c as se,p as ne,j as e,e as oe,d as J,f as re,h as ae,i as p,k as ie,n as U,l as $,I as k,R as ue,m as w,G as ce,N as le,L as me}from"./index-1ZlPBvop.js";import{a as t,i as de,d as x,y as j,G as y,H as fe,I as pe,J as _e,M as R,K as xe}from"./preload-B30H0Zan.js";import{S as Ie,L as Te}from"./lazy-image-BUvHZcOD.js";import{C as V,u as he}from"./text-DJtOwUOU.js";import{C as v}from"./button-B8-f0My4.js";const G=null,Ee="0.5s",Ne={sideBarTransitionTime:Ee},Se=de()?t.useLayoutEffect:t.useEffect,O="expanded",ge=100;function je(i){const f=P(),{shrinking:c,growing:n}=D(),{withTimeout:o}=Z(),[d,N]=t.useState(!1),[l,u]=t.useState(),[M,S]=t.useState(!1),I=t.useRef(l),m=t.useRef(i),_=()=>{S(!0);const r=setTimeout(()=>{S(!1)},50);return()=>{clearTimeout(r)}},g=t.useCallback(r=>{r!==void 0&&o(()=>{ee(O,r.toString())},ge)},[o]);return t.useEffect(()=>{I.current=l,g(l),l!==void 0&&N(!0)},[l,g]),t.useEffect(()=>L(()=>{let r;return m.current===a.Mobile&&i!==a.Mobile&&(r=_()),m.current!==a.Desktop&&i===a.Desktop&&u(!0),m.current===a.Desktop&&i!==a.Desktop&&u(!1),m.current=i,()=>{r?.()}}),[i]),t.useEffect(()=>L(()=>{c&&m.current===a.Tablet&&u(!1),n&&m.current===a.Desktop&&u(!0)}),[c,n]),Se(()=>L(()=>{let r;const b=te(O);return b?(r=_(),u(b==="true")):(m.current!==a.Desktop?u(!1):I.current===void 0&&(r=_(),u(!0)),g(I.current)),()=>{r?.()}}),[f.key,g]),{expanded:l,setExpanded:u,initialized:d,suppressTransition:M}}const Me=({className:i=""})=>{const{display:f,queue:c}=se(),{pathname:n}=P(),{focusPreload:o}=D(),d=t.useMemo(()=>o?()=>{ne(n,c[1])}:void 0,[o,n,c]);return e.jsx(v,{className:`language-rotator ${i}`,to:oe(n,c[0]),onClick:d,children:f})},be=({icon:i,name:f,expanded:c,selected:n,tooltip:o,noMargin:d,center:N,ellipsis:l,onClick:u,onConditionalClick:M,onCustomFocus:S,to:I,href:m})=>{const{t:_}=J();return e.jsxs(v,{className:x("menu-item",{"menu-item__no-margin":d,"menu-item__expanded":c}),selected:n,selectable:!0,noPadding:!0,tooltip:o,tooltipTitle:f,onClick:u,onConditionalClick:M,onCustomFocus:S,to:I,href:m,children:[e.jsx("div",{className:"menu-item__icon-container",children:i}),e.jsx("div",{className:x("menu-item__title",{"menu-item__title-center":N}),children:e.jsx(V,{className:x("text__no-wrap",{"text__no-ellipsis":!l}),children:_(f)})})]})},F=p.applicationShortName,W=p.titleImagePath,K=p.menuItems;p.loginPolicy;const q=p.centerMenuComponent;p.showUnauthorizedProfile;const Le=p.languageSwitch,Re=p.ellipsis.includes(R.Title),ve=p.ellipsis.includes(R.MenuItem),Ce=ie(Ne.sideBarTransitionTime),Be=()=>{const i=re(s=>s.user),f=P(),{t:c}=J(),{screenType:n}=D(),{expanded:o,setExpanded:d,initialized:N,suppressTransition:l}=je(n),{scrollToTop:u}=he(),[M,S]=t.useState(!1),[I,m]=t.useState(!1),_=i?.authenticated,g=i?.role,r=t.useRef(null),b=t.useRef(null),A=t.useMemo(()=>n===a.Mobile,[n]),B=t.useMemo(()=>n!==a.Desktop,[n]);t.useMemo(()=>!0,[_]),t.useMemo(()=>!0,[_]),t.useMemo(()=>j.Settings,[]);const z=t.useMemo(()=>ae(f.pathname),[f.pathname]),H=t.useMemo(()=>K.filter(s=>!0),[g]),C=t.useCallback(()=>{B&&d(!1),u()},[d,u,B]),T=()=>{const s=r.current;if(!s)return;const{scrollTop:h,scrollHeight:E,clientHeight:X}=s,Y=h<=1,Q=E-h-X<=1;S(!Y),m(!Q)};return t.useEffect(()=>L(()=>{const s=r.current;if(s)return T(),s.addEventListener("scroll",T),window.addEventListener("resize",T),()=>{s.removeEventListener("scroll",T),window.removeEventListener("resize",T)}}),[N]),t.useEffect(()=>{T()},[H.length]),t.useEffect(()=>{const s=setTimeout(()=>T(),Ce);return()=>clearTimeout(s)},[o]),N?e.jsxs("div",{className:"menu",children:[e.jsxs("div",{className:x("menu__sidebar",{"menu__sidebar-expanded":o,"menu__sidebar-suppress-transition":l}),children:[e.jsxs("header",{role:"banner",className:"menu__header",children:[e.jsx(v,{className:"menu__open-button",onClick:()=>{d(!o)},children:n!==a.Desktop?o?n===a.Tablet?e.jsx(y,{}):e.jsx(fe,{}):e.jsx(pe,{}):o?e.jsx(y,{}):e.jsx(_e,{})}),e.jsx(Ie,{className:x("menu__title",{"menu__title-center":q.includes(R.Title),"menu__title-clickable":A}),onConditionalClick:C,disabled:!A,to:"/",children:W?e.jsx(Te,{className:"menu__title-image",src:W,alt:F+" "+c("images.titleLogo"),objectFit:"contain"}):e.jsx(V,{className:x("menu__title-text","text__no-wrap",{"text__no-ellipsis":!Re}),children:F})})]}),e.jsx("nav",{role:"navigation",ref:r,className:x("menu__items",{"menu__items-top-border":M,"menu__items-bottom-border":I}),children:H.map((s,h)=>{const E=h?s.routeName:"";return e.jsx(be,{icon:e.jsx(s.icon,{}),name:c($(s.routeName).name),expanded:o,noMargin:!h,ellipsis:ve,center:q.includes(R.MenuItem),selected:E===z,tooltip:!o,to:U(E),onConditionalClick:C},`menuItem-${s.routeName}`)})}),e.jsxs("div",{className:"menu__footer",children:[G,k&&e.jsx(v,{className:"menu__footer-button",selected:z===j.Info,selectable:!0,tooltip:!0,tooltipTitle:c($(j.Info).name),tooltipPlacement:o?"top":"right",to:U(j.Info),onConditionalClick:C,children:e.jsx(xe,{})}),Le&&e.jsx(Me,{className:"menu__footer-button"})]})]}),e.jsx("div",{ref:b,className:x("menu__content",{"menu__content-expanded":o,"menu__content-suppress-transition":l}),onClick:()=>{n===a.Tablet&&d(!1)},children:e.jsx(t.Suspense,{fallback:e.jsx(me,{}),children:e.jsxs(ue,{children:[K.map((s,h)=>{const E=s.page?s.page.pageImporter:void 0;return e.jsx(w,{path:h?s.routeName:"",element:E?e.jsx(E,{}):e.jsx(ce,{filePath:s.routeName})},`route-${s.routeName}`)}),G,k&&e.jsx(w,{path:j.Info,element:e.jsx(k,{})},`route-${j.Info}`),e.jsx(w,{path:"*",element:e.jsx(le,{})},"route-not-found")]})})})]}):null};export{Be as default};
