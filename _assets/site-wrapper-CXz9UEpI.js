import{f as b,j as r,u as C,b as B,r as s,c as g,s as O,g as I,F as H,e as k,k as w,n as M,C as A,q as x,t as S,H as W,A as h}from"./index-pir0M5yI.js";import{u as j,a as G}from"./smart-link-NPyBSTbR.js";import{L as q}from"./lazy-image-fICNUHWZ.js";import{C as E}from"./text-BmnBLXm9.js";function ae(e,o){const t=l=>{const{current:n}=b(),u=l,f=o?.(n,u),c={...u,language:n};return f!==void 0?r.jsx(e,{...c},f):r.jsx(e,{...c})};return t.displayName=`WithLanguage(${e.displayName||e.name||"Component"})`,t}const D="18.75rem",U={bottomOffset:D},L="scroll",Y=100;function $(e){const o=C(),{node:t,scrollToHash:l,scrollToY:n,getRelativeScroll:u}=j(),{withTimeout:f,clear:c}=B(),v=s.useRef(o),a=s.useRef(void 0);s.useEffect(()=>g(()=>{if(!t)return;const i=()=>{f(()=>{a.current=u(),O(L,a.current)},Y)};return t.addEventListener("scroll",i),()=>{t.removeEventListener("scroll",i),c()}}),[t,c,f,u]),s.useEffect(()=>g(()=>{a.current&&O(L,a.current)}),[o.key]),s.useEffect(()=>g(()=>{const i=I(L);if(i!==void 0){n({relative:i});return}l(v.current)}),[e,l,n])}function K(){const e=s.useRef(void 0),o=s.useRef(null),t=s.useCallback(()=>{e.current!==void 0&&(cancelAnimationFrame(e.current),e.current=void 0)},[]),l=s.useCallback(n=>{o.current=n,t(),e.current=requestAnimationFrame(()=>{o.current?.()})},[t]);return s.useEffect(()=>t,[t]),{withAnimationFrame:l,clear:t}}const X=200,z=0,V=(e,o)=>{const t=Math.max(0,e.scrollHeight-(e.scrollTop+e.clientHeight));return{isNearBottom:t<=o,distanceToBottom:t}};function J({bottomOffsetPx:e=X,throttleMs:o=z}={}){const{node:t}=j(),{withTimeout:l,clear:n}=B(),{withAnimationFrame:u,clear:f}=K(),[c,v]=s.useState(()=>({isNearBottom:!0,distanceToBottom:0})),a=s.useRef(c);return s.useEffect(()=>{a.current=c},[c]),s.useEffect(()=>{const i=t;if(!i)return;const N=m=>{const p=a.current;p.isNearBottom===m.isNearBottom&&p.distanceToBottom===m.distanceToBottom||(a.current=m,v(m))},R=()=>N(V(i,e));let T=!1;const d=()=>{if(T)return;T=!0;const m=()=>{T=!1,u(R)};o<=0?m():l(m,o)};d(),i.addEventListener("scroll",d,{passive:!0});const _=new ResizeObserver(()=>d());return _.observe(i),()=>{T=!1,i.removeEventListener("scroll",d),_.disconnect(),n(),f()}},[t,e,o,l,u,n,f]),c}let F=!1;function Q(){const e=H();return s.useEffect(()=>{F=!0},[]),e!=="POP"||!F}const Z=A.applicationShortName,P=A.socials.filter(e=>!e.hidden),ee=A.legal,y=M.footerImagePath,te=W(U.bottomOffset),ce=({children:e,hideFooter:o,initialized:t=!0,ready:l=t})=>{const{t:n}=k(),{isCurrentRoute:u,location:f}=G(),{setRef:c}=j(),{isNearBottom:v}=J({bottomOffsetPx:te}),a=Q(),[i,N]=s.useState(!a),[R,T]=s.useState(!t),d=s.useRef(null),_=s.useRef(null),m=s.useRef(f);return s.useEffect(()=>{if(!a||R)return;const p=requestAnimationFrame(()=>{N(!0)});return()=>{cancelAnimationFrame(p)}},[a,R]),s.useEffect(()=>{t&&T(!1)},[t]),s.useEffect(()=>{c(d)},[c,d]),s.useEffect(()=>{_.current&&u(m.current,!0)&&_.current.focus()},[_,u]),$(l),r.jsx("div",{ref:d,className:w("site-wrapper",{"site-wrapper__not-near-bottom":!v}),children:r.jsx("div",{className:w("site-wrapper__content-shell-background-wrapper",{"site-wrapper__hide-footer":o}),children:r.jsxs("div",{className:w("site-wrapper__content-shell",{"site-wrapper__not-ready":R,"site-wrapper__fade":a,"site-wrapper__fade-in":a&&i}),children:[r.jsx("main",{ref:_,role:"main",tabIndex:-1,className:"site-wrapper__main",children:e}),!o&&r.jsxs("footer",{role:"contentinfo",className:"site-wrapper__footer",children:[r.jsxs("div",{className:"site-wrapper__text-wrapper",children:[P.length&&r.jsx("div",{className:"site-wrapper__socials",children:P.map(p=>r.jsx(E,{to:p.url,tooltip:!0,tooltipTitle:n(p.name),tooltipPlacement:"top",children:r.jsx(p.icon,{})},p.url))}),r.jsxs("div",{className:"site-wrapper__links",children:[r.jsx(E,{to:x(h.LegalNotice),children:n(S(h.LegalNotice).name)}),r.jsx(E,{to:x(h.PrivacyPolicy),children:n(S(h.PrivacyPolicy).name)}),r.jsx(E,{to:x(h.Terms),children:n(S(h.Terms).name)})]}),r.jsx("div",{className:"site-wrapper__info",children:r.jsx(E,{className:"text__no-wrap",children:`Â© ${new Date().getFullYear()} ${ee}`})})]}),y&&r.jsx("div",{className:"site-wrapper__image",children:r.jsx(q,{src:y,alt:Z+" "+n("images.footerLogo"),aspectRatio:1})})]})]})})})};export{ce as S,ae as w};
