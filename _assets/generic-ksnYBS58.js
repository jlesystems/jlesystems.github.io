import{j as a}from"./index-C263nmT_.js";import{a as e,d as j,S,z as h}from"./preload-igPg1UaG.js";import{w as k,S as z}from"./site-wrapper-DhDWo4C6.js";import{u as E,S as g}from"./lazy-image-ltwIM1sY.js";import"./text-CTqxDYYC.js";import"./smart-link-CuhVubm8.js";function v(){const[r,t]=e.useState(!1),[n,o]=e.useState(!1);return{ready:r,setReady:t,initialized:n,setInitialized:o}}const I="6",G={rows:I},N=({filePath:r,language:t,onInitialized:n,onReady:o,conditionalBack:d,components:i,className:c,rows:w=Number(G.rows),waitOnImageLoad:x=!1})=>{const{ready:s,shouldAnimate:f,fadeIn:y,setReady:u,reset:m}=E(),l=e.useRef(),p=e.useRef(),R=e.useRef(void 0);return e.useEffect(()=>{p.current=n},[n]),e.useEffect(()=>{l.current=o},[o]),e.useEffect(()=>{(s===void 0||s!==R.current)&&(R.current=s,p.current?.(s!==void 0),l.current?.(s===!0))},[s]),e.useEffect(()=>{m(),u(!1)},[t,r,m,u]),a.jsxs("div",{className:j("markdown-renderer-gated",c,{"markdown-renderer-gated__fade":f,"markdown-renderer-gated__fade-in":f&&y}),children:[s===!1&&a.jsx(g,{rows:w}),a.jsx(e.Suspense,{children:a.jsx(S,{filePath:r,language:t,onReady:u,conditionalBack:d,components:i,waitOnImageLoad:x})})]})},_=({route:r,conditionalBack:t,language:n})=>{const{ready:o,setReady:d,initialized:i,setInitialized:c}=v();return a.jsx(z,{ready:o,initialized:i,children:a.jsx("div",{className:"generic-page",children:a.jsx(N,{filePath:h(r),language:n,onReady:d,onInitialized:c,conditionalBack:t})})})},L=k(_,(r,t)=>`${r}/${t.route}`);export{L as default};
