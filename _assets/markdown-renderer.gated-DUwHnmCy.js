import{a as e,d as k,L as j}from"./preload-B30H0Zan.js";import{j as o}from"./index-1ZlPBvop.js";import{u as E,a as v}from"./lazy-image-BUvHZcOD.js";function g(){const[s,t]=e.useState(!1),[a,n]=e.useState(!1);return{ready:s,setReady:t,initialized:a,setInitialized:n}}const S="6",_={rows:S},z=({filePath:s,language:t,onInitialized:a,onReady:n,conditionalBack:R,components:p,className:l,rows:w=Number(_.rows),waitOnImageLoad:x=!1})=>{const{ready:r,shouldAnimate:c,fadeIn:y,setReady:d,reset:u}=E(),f=e.useRef(),i=e.useRef(),m=e.useRef(void 0);return e.useEffect(()=>{i.current=a},[a]),e.useEffect(()=>{f.current=n},[n]),e.useEffect(()=>{(r===void 0||r!==m.current)&&(m.current=r,i.current?.(r!==void 0),f.current?.(r===!0))},[r]),e.useEffect(()=>{u(),d(!1)},[t,s,u,d]),o.jsxs("div",{className:k("markdown-renderer-gated",l,{"markdown-renderer-gated__fade":c,"markdown-renderer-gated__fade-in":c&&y}),children:[r===!1&&o.jsx(v,{active:!0,paragraph:{rows:w}}),o.jsx(e.Suspense,{children:o.jsx(j,{filePath:s,language:t,onReady:d,conditionalBack:R,components:p,waitOnImageLoad:x})})]})};export{z as M,g as u};
