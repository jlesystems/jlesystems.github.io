import{u as $,a as U,b as te,s as se,r as C,S as i,g as ne,c as oe,p as re,j as e,e as ae,d as ie,f as le,h as ue,i as ce,k as me,n as w,l as P,R as de,m as M,E as A,G as fe,N as pe,L as _e}from"./index-X9ieaerj.js";import{a as s,i as xe,d as T,A as r,S as m,K as z,M as Te,O as Ie,P as Ee,D as H,Q as he,V as Se,W as v}from"./preload-Ddbz_btH.js";import{S as je}from"./smart-link-Crs3IybN.js";import{C as X,u as Re}from"./text-BTtVGXG1.js";import{C as k}from"./button-D05WdZI0.js";import{L as Me}from"./lazy-image-BPSSwhta.js";const ge="0.5s",Ne={sideBarTransitionTime:ge},Le=xe()?s.useLayoutEffect:s.useEffect,G="expanded",be=100;function Ae(l){const _=$(),{shrinking:u,growing:o}=U(),{withTimeout:n}=te(),[d,x]=s.useState(!1),[f,c]=s.useState(),[g,S]=s.useState(!1),I=s.useRef(f),p=s.useRef(l),j=()=>{S(!0);const a=setTimeout(()=>{S(!1)},50);return()=>{clearTimeout(a)}},R=s.useCallback(a=>{a!==void 0&&n(()=>{se(G,a.toString())},be)},[n]);return s.useEffect(()=>{I.current=f,R(f),f!==void 0&&x(!0)},[f,R]),s.useEffect(()=>C(()=>{let a;return p.current===i.Mobile&&l!==i.Mobile&&(a=j()),p.current!==i.Desktop&&l===i.Desktop&&c(!0),p.current===i.Desktop&&l!==i.Desktop&&c(!1),p.current=l,()=>{a?.()}}),[l]),s.useEffect(()=>C(()=>{u&&p.current===i.Tablet&&c(!1),o&&p.current===i.Desktop&&c(!0)}),[u,o]),Le(()=>C(()=>{let a;const L=ne(G);return L?(a=j(),c(L==="true")):(p.current!==i.Desktop?c(!1):I.current===void 0&&(a=j(),c(!0)),R(I.current)),()=>{a?.()}}),[_.key,R]),{expanded:f,setExpanded:c,initialized:d,suppressTransition:g}}const Ce=({className:l=""})=>{const{display:_,queue:u}=oe(),{pathname:o,hash:n}=$(),{focusPreload:d}=U(),x=s.useMemo(()=>d?()=>{re(o,u[1])}:void 0,[d,o,u]);return e.jsx(k,{className:`language-rotator ${l}`,to:ae(ie({pathname:o,hash:n}),u[0]),onClick:x,replace:!0,children:_})},W=({icon:l,name:_,expanded:u,selected:o,tooltip:n,noMargin:d,center:x,ellipsis:f,onClick:c,onConditionalClick:g,onCustomFocus:S,to:I,href:p})=>e.jsxs(k,{className:T("menu-item",{"menu-item__no-margin":d,"menu-item__expanded":u}),selected:o,selectable:!0,noPadding:!0,tooltip:n,tooltipTitle:_,onClick:c,onConditionalClick:g,onCustomFocus:S,to:I,href:p,children:[e.jsx("div",{className:"menu-item__icon-container",children:l}),e.jsx("div",{className:T("menu-item__title",{"menu-item__title-center":x}),children:e.jsx(X,{className:T("text__no-wrap",{"text__no-ellipsis":!f}),children:_})})]}),F=m.applicationShortName,K=m.titleImagePath,V=m.menuItems;m.loginPolicy;m.showUnauthorizedProfile;const ke=m.languageSwitch,ve=m.articles,De=m.standaloneArticles,we=m.additionalRoutes,Pe=m.ellipsis.includes(v.Title),q=m.ellipsis.includes(v.MenuItem),$e=m.centerMenuComponent.includes(v.Title),Q=m.centerMenuComponent.includes(v.MenuItem),Ue=me(Ne.sideBarTransitionTime),We=()=>{const l=le(t=>t.user),_=$(),{t:u}=ue(),{screenType:o}=U(),{expanded:n,setExpanded:d,initialized:x,suppressTransition:f}=Ae(o),{scrollToTop:c}=Re(),[g,S]=s.useState(!1),[I,p]=s.useState(!1),j=l?.authenticated,R=l?.role,a=s.useRef(null),L=s.useRef(null),B=s.useMemo(()=>o===i.Mobile,[o]),O=s.useMemo(()=>o!==i.Desktop,[o]);s.useMemo(()=>!0,[j]);const Y=s.useMemo(()=>!0,[j]);s.useMemo(()=>r.Settings,[Y]);const D=s.useMemo(()=>ce(_.pathname),[_.pathname]),y=s.useMemo(()=>V.filter(t=>!0),[R]),b=s.useCallback(()=>{O&&d(!1),c()},[d,c,O]),E=()=>{const t=a.current;if(!t)return;const{scrollTop:h,scrollHeight:N,clientHeight:J}=t,Z=h<=1,ee=N-h-J<=1;S(!Z),p(!ee)};return s.useEffect(()=>C(()=>{const t=a.current;if(t)return E(),t.addEventListener("scroll",E),window.addEventListener("resize",E),()=>{t.removeEventListener("scroll",E),window.removeEventListener("resize",E)}}),[x]),s.useEffect(()=>{E()},[y.length]),s.useEffect(()=>{const t=setTimeout(()=>E(),Ue);return()=>clearTimeout(t)},[n]),x?e.jsxs("div",{className:"menu",children:[e.jsxs("div",{className:T("menu__sidebar",{"menu__sidebar-expanded":n,"menu__sidebar-suppress-transition":f}),children:[e.jsxs("header",{role:"banner",className:"menu__header",children:[e.jsx(k,{className:"menu__open-button",onClick:()=>{d(!n)},children:o!==i.Desktop?n?o===i.Tablet?e.jsx(z,{}):e.jsx(Te,{}):e.jsx(Ie,{}):n?e.jsx(z,{}):e.jsx(Ee,{})}),e.jsx(je,{className:T("menu__title",{"menu__title-center":$e,"menu__title-clickable":B}),onConditionalClick:b,disabled:!B,to:"/",children:K?e.jsx("div",{className:"menu__title-image",children:e.jsx(Me,{src:K,alt:F+" "+u("images.titleLogo"),aspectRatio:1})}):e.jsx(X,{className:T("menu__title-text","text__no-wrap",{"text__no-ellipsis":!Pe}),children:F})})]}),e.jsxs("nav",{role:"navigation",ref:a,className:T("menu__items",{"menu__items-top-border":g,"menu__items-bottom-border":I}),children:[y.map(t=>{const h=t.route===H,N=h?r.Root:t.route;return e.jsx(W,{icon:e.jsx(t.icon,{}),name:u(P(N).name),expanded:n,noMargin:h,ellipsis:q,center:Q,selected:N===D,tooltip:!n,to:w(N),onConditionalClick:b},`menuItem-${t.route}`)}),e.jsx(W,{icon:e.jsx(he,{}),name:u(P(r.Articles.Main).name),expanded:n,ellipsis:q,center:Q,selected:r.Articles.Main===D,tooltip:!n,to:w(r.Articles.Main),onConditionalClick:b},`menuItem-${r.Articles}`)]}),e.jsxs("div",{className:"menu__footer",children:[!1,e.jsx(k,{className:"menu__footer-button",selected:D===r.Info,selectable:!0,tooltip:!0,tooltipTitle:u(P(r.Info).name),tooltipPlacement:n?"top":"right",to:w(r.Info),onConditionalClick:b,children:e.jsx(Se,{})}),ke&&e.jsx(Ce,{className:"menu__footer-button"})]})]}),e.jsx("div",{ref:L,className:T("menu__content",{"menu__content-expanded":n,"menu__content-suppress-transition":f}),onClick:()=>{o===i.Tablet&&d(!1)},children:e.jsx(s.Suspense,{fallback:e.jsx(_e,{}),children:e.jsxs(de,{children:[V.map(t=>{const h=t.route===H;return e.jsx(M,{path:h?r.Root:t.route,element:A(t.route)},`route-${t.route}`)}),e.jsx(M,{path:r.Articles.Main,element:A(r.Articles.Main)},`route-${r.Articles.Main}`),!1,e.jsx(M,{path:r.Info,element:A(r.Info)},`route-${r.Info}`),!De&&ve.map(t=>e.jsx(M,{path:t,element:e.jsx(fe,{route:t,conditionalBack:!0})},`route-${t.replace("/","-")}`)),we.filter(t=>t.renderType==="standalone").map(t=>e.jsx(M,{path:t.route,element:A(t.route,t.props)},`route-${t.route.replace("/","-")}`)),e.jsx(M,{path:"*",element:e.jsx(pe,{})},"route-not-found")]})})})]}):null};export{We as default};
