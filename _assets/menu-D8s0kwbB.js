import{u as D,a as w,b as ee,s as te,r as R,S as a,g as se,c as ne,p as oe,j as e,e as re,d as J,f as ae,h as ie,i as p,k as ue,D as z,n as H,l as O,R as le,m as v,E as $,N as ce,L as me}from"./index-QUIBNdhf.js";import{a as t,i as de,d as x,C as N,H as y,I as fe,J as pe,K as _e,M as L,L as xe}from"./preload-B4Zq_aYf.js";import{S as Te,L as Ie}from"./lazy-image-XFUWK4-M.js";import{C as V,u as Ee}from"./text-CtQzzGI8.js";import{C}from"./button-CQN4THIm.js";const Ne="0.5s",Se={sideBarTransitionTime:Ne},he=de()?t.useLayoutEffect:t.useEffect,F="expanded",ge=100;function je(i){const f=D(),{shrinking:l,growing:n}=w(),{withTimeout:o}=ee(),[d,S]=t.useState(!1),[c,u]=t.useState(),[j,h]=t.useState(!1),T=t.useRef(c),m=t.useRef(i),_=()=>{h(!0);const r=setTimeout(()=>{h(!1)},50);return()=>{clearTimeout(r)}},g=t.useCallback(r=>{r!==void 0&&o(()=>{te(F,r.toString())},ge)},[o]);return t.useEffect(()=>{T.current=c,g(c),c!==void 0&&S(!0)},[c,g]),t.useEffect(()=>R(()=>{let r;return m.current===a.Mobile&&i!==a.Mobile&&(r=_()),m.current!==a.Desktop&&i===a.Desktop&&u(!0),m.current===a.Desktop&&i!==a.Desktop&&u(!1),m.current=i,()=>{r?.()}}),[i]),t.useEffect(()=>R(()=>{l&&m.current===a.Tablet&&u(!1),n&&m.current===a.Desktop&&u(!0)}),[l,n]),he(()=>R(()=>{let r;const M=se(F);return M?(r=_(),u(M==="true")):(m.current!==a.Desktop?u(!1):T.current===void 0&&(r=_(),u(!0)),g(T.current)),()=>{r?.()}}),[f.key,g]),{expanded:c,setExpanded:u,initialized:d,suppressTransition:j}}const Me=({className:i=""})=>{const{display:f,queue:l}=ne(),{pathname:n}=D(),{focusPreload:o}=w(),d=t.useMemo(()=>o?()=>{oe(n,l[1])}:void 0,[o,n,l]);return e.jsx(C,{className:`language-rotator ${i}`,to:re(n,l[0]),onClick:d,children:f})},be=({icon:i,name:f,expanded:l,selected:n,tooltip:o,noMargin:d,center:S,ellipsis:c,onClick:u,onConditionalClick:j,onCustomFocus:h,to:T,href:m})=>{const{t:_}=J();return e.jsxs(C,{className:x("menu-item",{"menu-item__no-margin":d,"menu-item__expanded":l}),selected:n,selectable:!0,noPadding:!0,tooltip:o,tooltipTitle:f,onClick:u,onConditionalClick:j,onCustomFocus:h,to:T,href:m,children:[e.jsx("div",{className:"menu-item__icon-container",children:i}),e.jsx("div",{className:x("menu-item__title",{"menu-item__title-center":S}),children:e.jsx(V,{className:x("text__no-wrap",{"text__no-ellipsis":!c}),children:_(f)})})]})},G=p.applicationShortName,K=p.titleImagePath,W=p.menuItems;p.loginPolicy;const q=p.centerMenuComponent;p.showUnauthorizedProfile;const Re=p.languageSwitch,Le=p.ellipsis.includes(L.Title),Ce=p.ellipsis.includes(L.MenuItem),ke=ue(Se.sideBarTransitionTime),Ue=()=>{const i=ae(s=>s.user),f=D(),{t:l}=J(),{screenType:n}=w(),{expanded:o,setExpanded:d,initialized:S,suppressTransition:c}=je(n),{scrollToTop:u}=Ee(),[j,h]=t.useState(!1),[T,m]=t.useState(!1),_=i?.authenticated,g=i?.role,r=t.useRef(null),M=t.useRef(null),P=t.useMemo(()=>n===a.Mobile,[n]),A=t.useMemo(()=>n!==a.Desktop,[n]);t.useMemo(()=>!0,[_]);const X=t.useMemo(()=>!0,[_]);t.useMemo(()=>N.Settings,[X]);const U=t.useMemo(()=>ie(f.pathname),[f.pathname]),B=t.useMemo(()=>W.filter(s=>!0),[g]),k=t.useCallback(()=>{A&&d(!1),u()},[d,u,A]),I=()=>{const s=r.current;if(!s)return;const{scrollTop:E,scrollHeight:b,clientHeight:Y}=s,Q=E<=1,Z=b-E-Y<=1;h(!Q),m(!Z)};return t.useEffect(()=>R(()=>{const s=r.current;if(s)return I(),s.addEventListener("scroll",I),window.addEventListener("resize",I),()=>{s.removeEventListener("scroll",I),window.removeEventListener("resize",I)}}),[S]),t.useEffect(()=>{I()},[B.length]),t.useEffect(()=>{const s=setTimeout(()=>I(),ke);return()=>clearTimeout(s)},[o]),S?e.jsxs("div",{className:"menu",children:[e.jsxs("div",{className:x("menu__sidebar",{"menu__sidebar-expanded":o,"menu__sidebar-suppress-transition":c}),children:[e.jsxs("header",{role:"banner",className:"menu__header",children:[e.jsx(C,{className:"menu__open-button",onClick:()=>{d(!o)},children:n!==a.Desktop?o?n===a.Tablet?e.jsx(y,{}):e.jsx(fe,{}):e.jsx(pe,{}):o?e.jsx(y,{}):e.jsx(_e,{})}),e.jsx(Te,{className:x("menu__title",{"menu__title-center":q.includes(L.Title),"menu__title-clickable":P}),onConditionalClick:k,disabled:!P,to:"/",children:K?e.jsx(Ie,{className:"menu__title-image",src:K,alt:G+" "+l("images.titleLogo"),objectFit:"contain"}):e.jsx(V,{className:x("menu__title-text","text__no-wrap",{"text__no-ellipsis":!Le}),children:G})})]}),e.jsx("nav",{role:"navigation",ref:r,className:x("menu__items",{"menu__items-top-border":j,"menu__items-bottom-border":T}),children:B.map(s=>{const E=s.routeName===z,b=E?"":s.routeName;return e.jsx(be,{icon:e.jsx(s.icon,{}),name:l(O(s.routeName).name),expanded:o,noMargin:E,ellipsis:Ce,center:q.includes(L.MenuItem),selected:b===U,tooltip:!o,to:H(b),onConditionalClick:k},`menuItem-${s.routeName}`)})}),e.jsxs("div",{className:"menu__footer",children:[!1,e.jsx(C,{className:"menu__footer-button",selected:U===N.Info,selectable:!0,tooltip:!0,tooltipTitle:l(O(N.Info).name),tooltipPlacement:o?"top":"right",to:H(N.Info),onConditionalClick:k,children:e.jsx(xe,{})}),Re&&e.jsx(Me,{className:"menu__footer-button"})]})]}),e.jsx("div",{ref:M,className:x("menu__content",{"menu__content-expanded":o,"menu__content-suppress-transition":c}),onClick:()=>{n===a.Tablet&&d(!1)},children:e.jsx(t.Suspense,{fallback:e.jsx(me,{}),children:e.jsxs(le,{children:[W.map(s=>{const E=s.routeName===z;return e.jsx(v,{path:E?"":s.routeName,element:$(s.routeName)},`route-${s.routeName}`)}),!1,e.jsx(v,{path:N.Info,element:$(N.Info)},`route-${N.Info}`),e.jsx(v,{path:"*",element:e.jsx(ce,{})},"route-not-found")]})})})]}):null};export{Ue as default};
