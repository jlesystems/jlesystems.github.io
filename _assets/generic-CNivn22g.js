import{j as n}from"./index-ZKmomCsH.js";import{a as e,d as j,N as k}from"./preload-Bhv7Jght.js";import{w as S,S as h}from"./site-wrapper-DST3nb7a.js";import{u as E,a as g}from"./lazy-image-In4LDUlC.js";import"./text-_dJmBnd6.js";function v(){const[r,s]=e.useState(!1),[a,d]=e.useState(!1);return{ready:r,setReady:s,initialized:a,setInitialized:d}}const z="6",I={rows:z},N=({filePath:r,language:s,onInitialized:a,onReady:d,conditionalBack:o,components:i,className:c,rows:w=Number(I.rows),waitOnImageLoad:x=!1})=>{const{ready:t,shouldAnimate:u,fadeIn:y,setReady:f,reset:m}=E(),l=e.useRef(),R=e.useRef(),p=e.useRef(void 0);return e.useEffect(()=>{R.current=a},[a]),e.useEffect(()=>{l.current=d},[d]),e.useEffect(()=>{(t===void 0||t!==p.current)&&(p.current=t,R.current?.(t!==void 0),l.current?.(t===!0))},[t]),e.useEffect(()=>{m(),f(!1)},[s,r,m,f]),n.jsxs("div",{className:j("markdown-renderer-gated",c,{"markdown-renderer-gated__fade":u,"markdown-renderer-gated__fade-in":u&&y}),children:[t===!1&&n.jsx(g,{rows:w}),n.jsx(e.Suspense,{children:n.jsx(k,{filePath:r,language:s,onReady:f,conditionalBack:o,components:i,waitOnImageLoad:x})})]})},G=({filePath:r,conditionalBack:s,language:a})=>{const{ready:d,setReady:o,initialized:i,setInitialized:c}=v();return n.jsx(h,{ready:d,initialized:i,children:n.jsx("div",{className:"generic-page",children:n.jsx(N,{filePath:r,language:a,onReady:o,onInitialized:c,conditionalBack:s})})})},A=S(G,(r,s)=>`${r}/${s.filePath}`);export{A as default};
