import{j as a}from"./index-X9ieaerj.js";import{a as e,d as j,X as S,y as h}from"./preload-Ddbz_btH.js";import{w as k,S as E}from"./site-wrapper-y6RPZV4l.js";import{u as g,S as v}from"./lazy-image-BPSSwhta.js";import"./text-BTtVGXG1.js";import"./smart-link-Crs3IybN.js";function z(){const[r,t]=e.useState(!1),[n,o]=e.useState(!1);return{ready:r,setReady:t,initialized:n,setInitialized:o}}const I="6",G={rows:I},N=({filePath:r,language:t,onInitialized:n,onReady:o,conditionalBack:d,components:i,className:c,rows:y=Number(G.rows),waitOnImageLoad:w=!1})=>{const{ready:s,shouldAnimate:f,fadeIn:x,setReady:u,reset:m}=g(),l=e.useRef(),p=e.useRef(),R=e.useRef(void 0);return e.useEffect(()=>{p.current=n},[n]),e.useEffect(()=>{l.current=o},[o]),e.useEffect(()=>{(s===void 0||s!==R.current)&&(R.current=s,p.current?.(s!==void 0),l.current?.(s===!0))},[s]),e.useEffect(()=>{m(),u(!1)},[t,r,m,u]),a.jsxs("div",{className:j("markdown-renderer-gated",c,{"markdown-renderer-gated__fade":f,"markdown-renderer-gated__fade-in":f&&x}),children:[s===!1&&a.jsx(v,{rows:y}),a.jsx(e.Suspense,{children:a.jsx(S,{filePath:r,language:t,onReady:u,conditionalBack:d,components:i,waitOnImageLoad:w})})]})},_=({route:r,conditionalBack:t,language:n})=>{const{ready:o,setReady:d,initialized:i,setInitialized:c}=z();return a.jsx(E,{ready:o,initialized:i,children:a.jsx("div",{className:"generic-page",children:a.jsx(N,{filePath:h(r),language:n,onReady:d,onInitialized:c,conditionalBack:t})})})},L=k(_,(r,t)=>`${r}/${t.route}`);export{L as default};
