import{r as e,j as o,h as k}from"./index-utE6i1zH.js";import{u as j,a as E}from"./lazy-image-iPwgT3m3.js";import{M as v}from"./markdown-renderer.lazy-R5fUm0A8.js";function g(){const[s,t]=e.useState(!1),[a,n]=e.useState(!1);return{ready:s,setReady:t,initialized:a,setInitialized:n}}const S="6",h={rows:S},z=({filePath:s,language:t,onInitialized:a,onReady:n,conditionalBack:R,components:p,className:l,rows:w=Number(h.rows),preloadImages:x=!1})=>{const{ready:r,shouldAnimate:c,fadeIn:y,setReady:d,reset:u}=j(),f=e.useRef(),i=e.useRef(),m=e.useRef(void 0);return e.useEffect(()=>{i.current=a},[a]),e.useEffect(()=>{f.current=n},[n]),e.useEffect(()=>{(r===void 0||r!==m.current)&&(m.current=r,i.current?.(r!==void 0),f.current?.(r===!0))},[r]),e.useEffect(()=>{u(),d(!1)},[t,s,u,d]),o.jsxs("div",{className:k("markdown-renderer-gated",l,{"markdown-renderer-gated__fade":c,"markdown-renderer-gated__fade-in":c&&y}),children:[r===!1&&o.jsx(E,{active:!0,paragraph:{rows:w}}),o.jsx(e.Suspense,{children:o.jsx(v,{filePath:s,language:t,onReady:d,conditionalBack:R,components:p,preloadImages:x})})]})};export{z as M,g as u};
