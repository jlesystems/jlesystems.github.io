import{a as t}from"./preload-DFigx9sP.js";import{u as B,a2 as C,a4 as E,r as S,e as z}from"./index-BH91N29G.js";import{u as G}from"./smart-link-D_H7uarU.js";function x(){const{pathname:n}=B(),e=C(),{isCurrentRoute:i}=G(),{initialized:c,prev:r}=E(),[p,l]=t.useState(!1),[s,m]=t.useState(),[k,v]=t.useState(),o=t.useMemo(()=>n.split("/").slice(0,-1).join("/"),[n]),u=t.useRef(()=>e(-1));return t.useEffect(()=>{u.current=()=>e(-1)},[e]),t.useEffect(()=>{c&&S(()=>{const f=r?.rel,a=!!f&&!i(f),d=a?void 0:z(o);v({to:d,onClick:a?()=>u.current():void 0}),m(a)})},[c,r?.rel,o,i]),t.useEffect(()=>{s!==void 0&&l(!0)},[s]),{canGoBack:s,initialized:p,previousPath:o,props:k}}export{x as u};
