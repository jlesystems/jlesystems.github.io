import{r as i,B as S,C as h,D as b,h as R,j as T}from"./index-BuTOSY_6.js";import{S as m,e as y}from"./lazy-image-0bYO5std.js";const H=24;let u;const x=o=>{try{if(typeof CSS<"u"&&CSS.escape)return CSS.escape(o)}catch{}return o},C=(o,l)=>{const s=(()=>{const r=l.replace(/^#/,"");try{return decodeURIComponent(r)}catch{return r}})();if(!s)return null;const a=x(s);return o.querySelector(`[${b}="${s}"]`)??o.querySelector(`#${a}`)},v=(o,l,s=0)=>{const a=o.getBoundingClientRect();return l.getBoundingClientRect().top-a.top+o.scrollTop-s};function M(){const o=t=>{u=t},l=i.useCallback(()=>{const t=u?.current;if(!t)return;const e=Math.abs(Math.round(t.scrollTop)+t.clientHeight-t.scrollHeight)<2;return t.scrollTop===0?"0":e?"1":`${(t.scrollTop+t.clientHeight/2)/t.scrollHeight}`},[]),s=i.useCallback(t=>{const e=u?.current;return!e||!t?0:Math.round(t*e.scrollHeight-e.clientHeight/2)},[]),a=i.useCallback(()=>{u?.current?.scrollTo({top:0,behavior:"smooth"})},[]),r=i.useCallback(t=>{const e=u?.current;if(!e)return!1;const n=t===void 0?typeof window<"u"?S(window.location):"/":typeof t=="string"?t:S(t),{hash:c}=h(n),p=C(e,c);if(!p)return!1;const f=v(e,p,H);return e.scrollTo({top:Math.max(0,f),behavior:"instant"}),!0},[]),d=i.useCallback(({relative:t,absolute:e})=>{const n=u?.current;if(!n)return;let c=0;e!==void 0&&(c=Number(e)),t!==void 0&&(c=s(Number(t))),c&&n.scrollTo(0,c)},[s]);return{getRelativeScroll:l,getScrollTop:s,scrollToTop:a,scrollToHash:r,scrollToY:d,setRef:o,node:u?.current}}const _=({children:o,className:l,size:s,color:a,onClick:r,onConditionalClick:d,onCustomFocus:t,to:e,href:n,target:c,rel:p})=>{const f=R("text",l,{text__clickable:typeof r=="function"||typeof e=="string"||typeof n=="string"}),g={fontSize:s,color:a};return e||n?T.jsx(m,{to:e,href:n,target:c,rel:p,className:f,style:g,onClick:r,onConditionalClick:d,onCustomFocus:t,"aria-label":o,children:o}):T.jsx("span",{role:r?"button":void 0,tabIndex:r?0:void 0,className:f,style:g,onClick:r,onKeyDown:y(r),onMouseEnter:t,onFocus:t,"aria-label":o,children:o})};export{_ as C,M as u};
