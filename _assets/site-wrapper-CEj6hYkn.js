import{e as b,j as r,u as I,b as B,r as s,c as N,s as O,g as H,B as C,i as k,k as R,n as E,q as w,t as x,C as M,A as _}from"./index-CyOUYLAt.js";import{u as A}from"./smart-link-DScHVMZl.js";import{L as W}from"./lazy-image-X3SFUsUV.js";import{C as v}from"./text-BZRK7M0I.js";function oe(e,o){const t=i=>{const{current:n}=b(),l=i,m=o?.(n,l),a={...l,language:n};return m!==void 0?r.jsx(e,{...a},m):r.jsx(e,{...a})};return t.displayName=`WithLanguage(${e.displayName||e.name||"Component"})`,t}const q="14.0625rem",D={bottomOffset:q},S="scroll",G=100;function U(e){const o=I(),{node:t,scrollToHash:i,scrollToY:n,getRelativeScroll:l}=A(),{withTimeout:m,clear:a}=B(),T=s.useRef(o),f=s.useRef(void 0);s.useEffect(()=>N(()=>{if(!t)return;const c=()=>{m(()=>{f.current=l(),O(S,f.current)},G)};return t.addEventListener("scroll",c),()=>{t.removeEventListener("scroll",c),a()}}),[t,a,m,l]),s.useEffect(()=>N(()=>{f.current&&O(S,f.current)}),[o.key]),s.useEffect(()=>N(()=>{const c=H(S);if(c!==void 0){n({relative:c});return}i(T.current)}),[e,i,n])}function Y(){const e=s.useRef(void 0),o=s.useRef(null),t=s.useCallback(()=>{e.current!==void 0&&(cancelAnimationFrame(e.current),e.current=void 0)},[]),i=s.useCallback(n=>{o.current=n,t(),e.current=requestAnimationFrame(()=>{o.current?.()})},[t]);return s.useEffect(()=>t,[t]),{withAnimationFrame:i,clear:t}}const $=200,K=0,X=(e,o)=>{const t=Math.max(0,e.scrollHeight-(e.scrollTop+e.clientHeight));return{isNearBottom:t<=o,distanceToBottom:t}};function z({bottomOffsetPx:e=$,throttleMs:o=K}={}){const{node:t}=A(),{withTimeout:i,clear:n}=B(),{withAnimationFrame:l,clear:m}=Y(),[a,T]=s.useState(()=>({isNearBottom:!0,distanceToBottom:0})),f=s.useRef(a);return s.useEffect(()=>{f.current=a},[a]),s.useEffect(()=>{const c=t;if(!c)return;const g=d=>{const j=f.current;j.isNearBottom===d.isNearBottom&&j.distanceToBottom===d.distanceToBottom||(f.current=d,T(d))},h=()=>g(X(c,e));let p=!1;const u=()=>{if(p)return;p=!0;const d=()=>{p=!1,l(h)};o<=0?d():i(d,o)};u(),c.addEventListener("scroll",u,{passive:!0});const L=new ResizeObserver(()=>u());return L.observe(c),()=>{p=!1,c.removeEventListener("scroll",u),L.disconnect(),n(),m()}},[t,e,o,i,l,n,m]),a}let F=!1;function V(){const e=C();return s.useEffect(()=>{F=!0},[]),e!=="POP"||!F}const J=E.legal,Q=E.applicationShortName,y=E.footerImagePath,P=E.socials.filter(e=>!e.hidden),Z=M(D.bottomOffset),ne=({children:e,hideFooter:o,initialized:t=!0,ready:i=t})=>{const{t:n}=k(),{setRef:l}=A(),{isNearBottom:m}=z({bottomOffsetPx:Z}),a=V(),[T,f]=s.useState(!a),[c,g]=s.useState(!t),h=s.useRef(null),p=s.useRef(null);return s.useEffect(()=>{if(!a||c)return;const u=requestAnimationFrame(()=>{f(!0)});return()=>{cancelAnimationFrame(u)}},[a,c]),s.useEffect(()=>{t&&g(!1)},[t]),s.useEffect(()=>{l(h)},[l,h]),s.useEffect(()=>{p.current?.focus()},[p]),U(i),r.jsx("div",{ref:h,className:R("site-wrapper",{"site-wrapper__not-near-bottom":!m}),children:r.jsx("div",{className:R("site-wrapper__content-shell-background-wrapper",{"site-wrapper__hide-footer":o}),children:r.jsxs("div",{className:R("site-wrapper__content-shell",{"site-wrapper__not-ready":c,"site-wrapper__fade":a,"site-wrapper__fade-in":a&&T}),children:[r.jsx("main",{ref:p,role:"main",tabIndex:-1,className:"site-wrapper__main",children:e}),!o&&r.jsxs("footer",{role:"contentinfo",className:"site-wrapper__footer",children:[r.jsxs("div",{className:"site-wrapper__text-wrapper",children:[P.length&&r.jsx("div",{className:"site-wrapper__socials",children:P.map(u=>r.jsx(v,{to:u.url,tooltip:!0,tooltipTitle:n(u.name),tooltipPlacement:"top",children:r.jsx(u.icon,{})},u.url))}),r.jsxs("div",{className:"site-wrapper__links",children:[r.jsx(v,{to:w(_.LegalNotice),children:n(x(_.LegalNotice).name)}),r.jsx(v,{to:w(_.PrivacyPolicy),children:n(x(_.PrivacyPolicy).name)}),r.jsx(v,{to:w(_.Terms),children:n(x(_.Terms).name)})]}),r.jsx("div",{className:"site-wrapper__info",children:r.jsx(v,{className:"text__no-wrap",children:`Â© ${new Date().getFullYear()} ${J}`})})]}),y&&r.jsx("div",{className:"site-wrapper__image",children:r.jsx(W,{src:y,alt:Q+" "+n("images.footerLogo"),aspectRatio:1})})]})]})})})};export{ne as S,oe as w};
