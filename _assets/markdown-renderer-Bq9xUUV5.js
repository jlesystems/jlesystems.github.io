import{$ as y,a0 as N,a1 as v,w as E,j as s}from"./index-CP4Lpcoy.js";import{a as u,d as _,$ as B,H as P,b as C,a0 as w,a1 as R,v as L}from"./preload-BfToBUpf.js";import{u as I}from"./can-go-back-ipnBbBsW.js";import{C as A}from"./button-Cgl1SzQ_.js";import{L as D,S as X}from"./lazy-image-CP4gDolC.js";import{M as z}from"./index-C2ln04vi.js";const F=t=>t.trim().toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");function b(t){if(typeof t!="string"){try{const i=t,l=i[0];if(typeof l=="string"){const m=b(l);return{...m,content:[...[m.content?m.content+" ":void 0].filter(Boolean),...i.slice(1)]}}}catch{}return{content:t,hash:void 0,hasBackPrefix:!1,hasSubtitlePrefix:!1}}let e=t.trim(),a=!1,c=!1;e.startsWith(y)&&(a=!0,e=e.slice(y.length).trim()),e.startsWith(N)&&(c=!0,e=e.slice(N.length).trim());const r=v.exec(e);let o;if(r){const i=e.slice(r[0].length).trim(),l=r[1]?.trim(),m=l&&l.length?l:i;o=F(m??"")||void 0,e=i}return{content:e,hash:o,hasBackPrefix:a,hasSubtitlePrefix:c}}const p=t=>({children:a,...c})=>{const{content:r,hash:o}=b(a),i=o!==void 0?{[E]:o}:{};return u.createElement(t,{...c,...i},r)},T=({children:t,className:e,conditionalBack:a})=>{const{canGoBack:c,initialized:r,props:o}=I(),{content:i,hasBackPrefix:l}=u.useMemo(()=>b(t),[t]),m=l||a;return s.jsxs("h1",{className:_("mdx-heading-one","disable-mdx-styles",e),children:[m&&s.jsx(A,{...o,className:"mdx-heading-one__back-button",noPadding:!0,children:r&&(c?s.jsx(B,{}):s.jsx(P,{}))}),i]})},$=p(T),G=p("h2"),O=p("h3"),K=p("h4"),U=p("h5"),V=p("h6"),k=({left:t=!1,marginTop:e,marginBottom:a,marginRight:c,marginLeft:r,floatMarginTop:o,floatMarginBottom:i,floatMarginRight:l,floatMarginLeft:m,maxHeight:f,minHeight:j,maxWidth:x,minWidth:M,className:d,...g})=>{const h=u.useMemo(()=>{const n={};return n["--float-image--margin-top"]=e,n["--float-image--margin-bottom"]=a,n["--float-image--margin-right"]=c,n["--float-image--margin-left"]=r,n["--float-image--float-margin-top"]=o,n["--float-image--float-margin-bottom"]=i,n["--float-image--float-margin-right"]=l,n["--float-image--float-margin-left"]=m,n["--float-image--max-height"]=f,n["--float-image--min-height"]=j,n["--float-image--max-width"]=x,n["--float-image--min-width"]=M,n},[e,a,c,r,o,i,l,m,f,j,x,M]);return s.jsx("div",{style:h,className:_("float-image","disable-mdx-styles",d,{"float-image__right":!t}),children:s.jsx(D,{...g,className:"float-image__image",aspectRatio:"3/2"})})},W=({children:t,...e})=>s.jsx(X,{...e,children:t}),q=({children:t,...e})=>s.jsx("div",{className:"mdx-subtitle disable-mdx-styles",children:s.jsx("p",{...e,className:"mdx-subtitle__text",children:t})}),J=t=>typeof t=="string"&&t.trim()==="",Q=t=>C.isValidElement(t)&&t.type===k,Y=({children:t,...e})=>{const{content:a,hasSubtitlePrefix:c}=C.useMemo(()=>b(t),[t]),r=C.Children.toArray(a).filter(o=>!J(o));return r.length===1&&Q(r[0])?s.jsx(s.Fragment,{children:r[0]}):c?s.jsx(q,{...e,children:a}):s.jsx("p",{...e,children:a})},Z={p:Y,a:W,img:k,h1:$,h2:G,h3:O,h4:K,h5:U,h6:V},ot=({filePath:t,language:e,onReady:a,conditionalBack:c,components:r,waitOnImageLoad:o=!1})=>{const[i,l]=u.useState(null),m=u.useRef(a),f=u.useMemo(()=>({...Z,...r||{}}),[r]),j=u.useMemo(()=>c?{...f,h1:d=>{const g=f.h1||"h1";return s.jsx(g,{...d,conditionalBack:!0})}}:f,[f,c]),x=d=>{l(()=>d),m.current?.(!0)},M=()=>{l(null)};return u.useEffect(()=>{m.current=a},[a]),u.useEffect(()=>{let d=!1;M();const g=w(e,t);if(!g){d||x(()=>s.jsxs("div",{className:"mdx-error",children:["Not found:"," ",s.jsxs("code",{children:[e,"/",t]})]}));return}return g().then(async h=>{const n=h.default||h,H=h.images??[];H.length&&o&&await R(H.map(S=>()=>L(S,"high"))),d||x(n)}).catch(h=>{if(d)return;x(()=>s.jsxs("div",{className:"mdx-error",children:["Error loading"," ",s.jsxs("code",{children:[e,"/",t]})]}))}),()=>{d=!0}},[e,t,o]),s.jsx("div",{className:"markdown-renderer",children:i?s.jsx(z,{components:j,children:s.jsx(i,{})}):null})};export{ot as default};
