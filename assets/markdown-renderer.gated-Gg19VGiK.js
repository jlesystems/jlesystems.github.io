import{a as e,M as k}from"./preload-Dy4yz7wp.js";import{j as o,f as j}from"./index-BXNb0Ui9.js";import{u as E,a as v}from"./lazy-image-Bpz8g5c5.js";function g(){const[s,t]=e.useState(!1),[a,n]=e.useState(!1);return{ready:s,setReady:t,initialized:a,setInitialized:n}}const S="6",M={rows:S},z=({filePath:s,language:t,onInitialized:a,onReady:n,conditionalBack:R,components:p,className:l,rows:w=Number(M.rows),waitOnImageLoad:x=!1})=>{const{ready:r,shouldAnimate:c,fadeIn:y,setReady:d,reset:f}=E(),u=e.useRef(),i=e.useRef(),m=e.useRef(void 0);return e.useEffect(()=>{i.current=a},[a]),e.useEffect(()=>{u.current=n},[n]),e.useEffect(()=>{(r===void 0||r!==m.current)&&(m.current=r,i.current?.(r!==void 0),u.current?.(r===!0))},[r]),e.useEffect(()=>{f(),d(!1)},[t,s,f,d]),o.jsxs("div",{className:j("markdown-renderer-gated",l,{"markdown-renderer-gated__fade":c,"markdown-renderer-gated__fade-in":c&&y}),children:[r===!1&&o.jsx(v,{active:!0,paragraph:{rows:w}}),o.jsx(e.Suspense,{children:o.jsx(k,{filePath:s,language:t,onReady:d,conditionalBack:R,components:p,waitOnImageLoad:x})})]})};export{z as M,g as u};
