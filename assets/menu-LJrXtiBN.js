import{a as t,i as Z,n as P,I as D,J as ee,a2 as te,A as L,B as se,F as ne,j as e,a3 as R,a4 as oe,h as J,c as x,z as j,w as ae,S as p,a5 as $,a6 as re,a7 as ie,a8 as ue,a9 as ce,aa as le,ab as v,ac as H,ad as O,ae as k,af as me,N as de,V as w,ag as fe,ah as pe}from"./mdx-runtime-B_s9jK3V.js";import{S as r,u as _e,a as xe,g as Te,b as y,L as Ie}from"./index-CeMkI19_.js";import{C as K,u as he}from"./text-fIXLq8Bj.js";const Ee="0.5s",Ne={sideBarTransitionTime:Ee},ge=Z()?t.useLayoutEffect:t.useEffect,G="expanded",Se=100;function je(i){const f=P(),{shrinking:c,growing:n}=D(),{withTimeout:o}=ee(),[d,N]=t.useState(!1),[l,u]=t.useState(),[M,g]=t.useState(!1),T=t.useRef(l),m=t.useRef(i),_=()=>{g(!0);const a=setTimeout(()=>{g(!1)},50);return()=>{clearTimeout(a)}},S=t.useCallback(a=>{a!==void 0&&o(()=>{te(G,a.toString())},Se)},[o]);return t.useEffect(()=>{T.current=l,S(l),l!==void 0&&N(!0)},[l,S]),t.useEffect(()=>L(()=>{let a;return m.current===r.Mobile&&i!==r.Mobile&&(a=_()),m.current!==r.Desktop&&i===r.Desktop&&u(!0),m.current===r.Desktop&&i!==r.Desktop&&u(!1),m.current=i,()=>{a?.()}}),[i]),t.useEffect(()=>L(()=>{c&&m.current===r.Tablet&&u(!1),n&&m.current===r.Desktop&&u(!0)}),[c,n]),ge(()=>L(()=>{let a;const b=se(G);return b?(a=_(),u(b==="true")):(m.current!==r.Desktop?u(!1):T.current===void 0&&(a=_(),u(!0)),S(T.current)),()=>{a?.()}}),[f.key,S]),{expanded:l,setExpanded:u,initialized:d,suppressTransition:M}}const Me=({className:i=""})=>{const{display:f,queue:c}=_e(),{pathname:n}=P(),{focusPreload:o}=D(),d=t.useMemo(()=>o?()=>{ne(n,c[1])}:void 0,[o,n,c]);return e.jsx(R,{className:`language-rotator ${i}`,to:oe(n,c[0]),onClick:d,children:f})},be=({icon:i,name:f,expanded:c,selected:n,tooltip:o,noMargin:d,center:N,ellipsis:l,onClick:u,onConditionalClick:M,onCustomFocus:g,to:T,href:m})=>{const{t:_}=J();return e.jsxs(R,{className:x("menu-item",{"menu-item__no-margin":d,"menu-item__expanded":c}),selected:n,selectable:!0,noPadding:!0,tooltip:o,tooltipTitle:f,onClick:u,onConditionalClick:M,onCustomFocus:g,to:T,href:m,children:[e.jsx("div",{className:"menu-item__icon-container",children:i}),e.jsx("div",{className:x("menu-item__title",{"menu-item__title-center":N}),children:e.jsx(K,{className:x("text__no-wrap",{"text__no-ellipsis":!l}),children:_(f)})})]})},F=p.applicationShortName,W=p.titleImagePath,V=p.menuItems;p.loginPolicy;const q=p.centerMenuComponent;p.showUnauthorizedProfile;const Le=p.languageSwitch,Re=p.ellipsis.includes(v.Title),ve=p.ellipsis.includes(v.MenuItem),Ce=Te(Ne.sideBarTransitionTime),De=()=>{const i=xe(s=>s.user),f=P(),{t:c}=J(),{screenType:n}=D(),{expanded:o,setExpanded:d,initialized:N,suppressTransition:l}=je(n),{scrollToTop:u}=he(),[M,g]=t.useState(!1),[T,m]=t.useState(!1),_=i?.authenticated,S=i?.role,a=t.useRef(null),b=t.useRef(null),A=t.useMemo(()=>n===r.Mobile,[n]),B=t.useMemo(()=>n!==r.Desktop,[n]);t.useMemo(()=>!0,[_]),t.useMemo(()=>!0,[_]),t.useMemo(()=>j.Settings,[]);const z=t.useMemo(()=>ae(f.pathname),[f.pathname]),U=t.useMemo(()=>V.filter(s=>!0),[S]),C=t.useCallback(()=>{B&&d(!1),u()},[d,u,B]),I=()=>{const s=a.current;if(!s)return;const{scrollTop:h,scrollHeight:E,clientHeight:X}=s,Y=h<=1,Q=E-h-X<=1;g(!Y),m(!Q)};return t.useEffect(()=>L(()=>{const s=a.current;if(s)return I(),s.addEventListener("scroll",I),window.addEventListener("resize",I),()=>{s.removeEventListener("scroll",I),window.removeEventListener("resize",I)}}),[N]),t.useEffect(()=>{I()},[U.length]),t.useEffect(()=>{const s=setTimeout(()=>I(),Ce);return()=>clearTimeout(s)},[o]),N?e.jsxs("div",{className:"menu",children:[e.jsxs("div",{className:x("menu__sidebar",{"menu__sidebar-expanded":o,"menu__sidebar-suppress-transition":l}),children:[e.jsxs("header",{role:"banner",className:"menu__header",children:[e.jsx(R,{className:"menu__open-button",onClick:()=>{d(!o)},children:n!==r.Desktop?o?n===r.Tablet?e.jsx($,{}):e.jsx(re,{}):e.jsx(ie,{}):o?e.jsx($,{}):e.jsx(ue,{})}),e.jsx(ce,{className:x("menu__title",{"menu__title-center":q.includes(v.Title),"menu__title-clickable":A}),onConditionalClick:C,disabled:!A,to:"/",children:W?e.jsx(le,{className:"menu__title-image",src:W,alt:F+" "+c("images.titleLogo"),objectFit:"contain"}):e.jsx(K,{className:x("menu__title-text","text__no-wrap",{"text__no-ellipsis":!Re}),children:F})})]}),e.jsx("nav",{role:"navigation",ref:a,className:x("menu__items",{"menu__items-top-border":M,"menu__items-bottom-border":T}),children:U.map((s,h)=>{const E=h?s.routeName:"";return e.jsx(be,{icon:e.jsx(s.icon,{}),name:c(y(s.routeName).name),expanded:o,noMargin:!h,ellipsis:ve,center:q.includes(v.MenuItem),selected:E===z,tooltip:!o,to:H(E),onConditionalClick:C},`menuItem-${s.routeName}`)})}),e.jsxs("div",{className:"menu__footer",children:[O,k&&e.jsx(R,{className:"menu__footer-button",selected:z===j.Info,selectable:!0,tooltip:!0,tooltipTitle:c(y(j.Info).name),tooltipPlacement:o?"top":"right",to:H(j.Info),onConditionalClick:C,children:e.jsx(me,{})}),Le&&e.jsx(Me,{className:"menu__footer-button"})]})]}),e.jsx("div",{ref:b,className:x("menu__content",{"menu__content-expanded":o,"menu__content-suppress-transition":l}),onClick:()=>{n===r.Tablet&&d(!1)},children:e.jsx(t.Suspense,{fallback:e.jsx(Ie,{}),children:e.jsxs(de,{children:[V.map((s,h)=>{const E=s.page?s.page.pageImporter:void 0;return e.jsx(w,{path:h?s.routeName:"",element:E?e.jsx(E,{}):e.jsx(fe,{filePath:s.routeName})},`route-${s.routeName}`)}),O,k&&e.jsx(w,{path:j.Info,element:e.jsx(k,{})},`route-${j.Info}`),e.jsx(w,{path:"*",element:e.jsx(pe,{})},"route-not-found")]})})})]}):null};export{De as default};
