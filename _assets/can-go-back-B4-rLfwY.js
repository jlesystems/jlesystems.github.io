import{u as B,az as C,aE as E,r as t,c as z,f as S}from"./index-Dl5Nh_rX.js";import{b as G}from"./smart-link-Dwx2xJ2b.js";function L(){const{pathname:n}=B(),e=C(),{isCurrentRoute:i}=G(),{initialized:c,prev:r}=E(),[p,l]=t.useState(!1),[s,k]=t.useState(),[m,v]=t.useState(),o=t.useMemo(()=>n.split("/").slice(0,-1).join("/"),[n]),u=t.useRef(()=>e(-1));return t.useEffect(()=>{u.current=()=>e(-1)},[e]),t.useEffect(()=>{c&&z(()=>{const f=r?.rel,a=!!f&&!i(f),d=a?void 0:S(o);v({to:d,onClick:a?()=>u.current():void 0}),k(a)})},[c,r?.rel,o,i]),t.useEffect(()=>{s!==void 0&&l(!0)},[s]),{canGoBack:s,initialized:p,previousPath:o,props:m}}export{L as u};
