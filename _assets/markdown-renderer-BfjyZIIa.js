import{Z as k,$ as N,a0 as R,v as L,j as a,a1 as I,a2 as S}from"./index-dzPrKldK.js";import{a as u,d as P,a5 as F,b as H,a6 as D,a7 as X,v as z}from"./preload-sdnFI26d.js";import{u as B}from"./can-go-back-DQE0quup.js";import{C as T}from"./button-BlOUD3b6.js";import{L as O}from"./lazy-image-jHlcPs09.js";import{S as q}from"./smart-link-Cz-9Zdlg.js";import{M as G}from"./index-CdEbxcTB.js";const K=e=>e.trim().toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");function b(e){if(typeof e!="string"){try{const l=e,i=l[0];if(typeof i=="string"){const m=b(i);return{...m,content:[...[m.content?m.content+" ":void 0].filter(Boolean),...l.slice(1)]}}}catch{}return{content:e,hash:void 0,hasBackPrefix:!1,hasSubtitlePrefix:!1}}let t=e.trim(),n=!1,c=!1;t.startsWith(k)&&(n=!0,t=t.slice(k.length).trim()),t.startsWith(N)&&(c=!0,t=t.slice(N.length).trim());const r=R.exec(t);let o;if(r){const l=t.slice(r[0].length).trim(),i=r[1]?.trim(),m=i&&i.length?i:l;o=K(m??"")||void 0,t=l}return{content:t,hash:o,hasBackPrefix:n,hasSubtitlePrefix:c}}const h=e=>({children:n,...c})=>{const{content:r,hash:o}=b(n),l=o!==void 0?{[L]:o}:{};return u.createElement(e,{...c,...l},r)},U=({children:e,className:t,conditionalBack:n})=>{const{initialized:c,props:r}=B(),{content:o,hasBackPrefix:l}=u.useMemo(()=>b(e),[e]),i=l||n;return a.jsxs("h1",{className:P("mdx-heading-one","disable-mdx-styles",t),children:[i&&a.jsx(T,{...r,className:"mdx-heading-one__back-button",noPadding:!0,children:c&&a.jsx(F,{})}),o]})},V=h(U),W=h("h2"),Z=h("h3"),$=h("h4"),J=h("h5"),Q=h("h6"),w=({left:e=!1,marginTop:t,marginBottom:n,marginRight:c,marginLeft:r,floatMarginTop:o,floatMarginBottom:l,floatMarginRight:i,floatMarginLeft:m,maxHeight:f,minHeight:x,maxWidth:M,minWidth:d,className:y,...j})=>{const v=u.useMemo(()=>{const s={};return s["--float-image--margin-top"]=t,s["--float-image--margin-bottom"]=n,s["--float-image--margin-right"]=c,s["--float-image--margin-left"]=r,s["--float-image--float-margin-top"]=o,s["--float-image--float-margin-bottom"]=l,s["--float-image--float-margin-right"]=i,s["--float-image--float-margin-left"]=m,s["--float-image--max-height"]=f,s["--float-image--min-height"]=x,s["--float-image--max-width"]=M,s["--float-image--min-width"]=d,s},[t,n,c,r,o,l,i,m,f,x,M,d]);return a.jsx("div",{style:v,className:P("float-image","disable-mdx-styles",y,{"float-image__right":!e}),children:a.jsx(O,{...j,className:"float-image__image",aspectRatio:"3/2"})})},Y=({children:e,...t})=>a.jsx(q,{...t,children:e}),ee=({children:e,...t})=>a.jsx("div",{className:"mdx-subtitle disable-mdx-styles",children:a.jsx("p",{...t,className:"mdx-subtitle__text",children:e})}),te=e=>typeof e=="string"&&e.trim()==="",se=e=>H.isValidElement(e)&&e.type===w,ae=({children:e,...t})=>{const{content:n,hasSubtitlePrefix:c}=H.useMemo(()=>b(e),[e]),r=H.Children.toArray(n).filter(o=>!te(o));return r.length===1&&se(r[0])?a.jsx(a.Fragment,{children:r[0]}):c?a.jsx(ee,{...t,children:n}):a.jsx("p",{...t,children:n})},ne={p:ae,a:Y,img:w,h1:V,h2:W,h3:Z,h4:$,h5:J,h6:Q},de=({filePath:e,language:t,onReady:n,conditionalBack:c,components:r,waitOnImageLoad:o=!1})=>{const l=I(),{previousPath:i}=B(),[m,f]=u.useState(null),x=u.useRef(n),M=u.useRef(()=>{l(i,{replace:!0})}),d=u.useMemo(()=>({...ne,...r||{}}),[r]),y=u.useMemo(()=>c?{...d,h1:s=>{const g=d.h1||"h1";return a.jsx(g,{...s,conditionalBack:!0})}}:d,[d,c]),j=s=>{f(()=>s),x.current?.(!0)},v=()=>{f(null)};return u.useEffect(()=>{x.current=n},[n]),u.useEffect(()=>{let s=!1,g;v();const C=D(t,e);if(!C){S();const p=()=>a.jsxs("div",{className:"mdx-error",children:["Not found"," ",a.jsxs("code",{children:[t,"/",e]})]});s||(i?M.current():g=requestAnimationFrame(()=>j(p)));return}return C().then(async p=>{const A=p.default||p,_=p.images??[];_.length&&o&&await X(_.map(E=>()=>z(E,"high"))),s||j(A)}).catch(()=>{S()}),()=>{g&&cancelAnimationFrame(g),s=!0}},[t,e,o,i]),a.jsx("div",{className:"markdown-renderer markdown-styles",children:m?a.jsx(G,{components:y,children:a.jsx(m,{})}):null})};export{de as default};
