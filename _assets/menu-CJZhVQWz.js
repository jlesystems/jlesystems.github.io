import{u as $,a as U,b as se,s as ne,r as C,S as i,g as oe,c as re,p as ae,j as e,e as ie,d as le,f as X,h as ue,i as ce,k as m,l as me,n as w,m as P,R as de,o as M,E as A,G as fe,N as pe,L as _e}from"./index-CP70I_oO.js";import{a as s,i as xe,d as I,y as r,K as z,L as Te,M as Ie,N as Ee,D as H,O as he,P as Se,Q as v}from"./preload-DSe_cG8J.js";import{S as je}from"./smart-link-CIzGLcMG.js";import{C as Y,u as Re}from"./text-QYfOgt83.js";import{C as k}from"./button-aZJYEsxA.js";import{L as Me}from"./lazy-image-CH_IiJ0-.js";const Ne="0.5s",ge={sideBarTransitionTime:Ne},Le=xe()?s.useLayoutEffect:s.useEffect,G="expanded",be=100;function Ae(l){const _=$(),{shrinking:u,growing:o}=U(),{withTimeout:n}=se(),[d,x]=s.useState(!1),[f,c]=s.useState(),[N,j]=s.useState(!1),E=s.useRef(f),p=s.useRef(l),T=()=>{j(!0);const a=setTimeout(()=>{j(!1)},50);return()=>{clearTimeout(a)}},R=s.useCallback(a=>{a!==void 0&&n(()=>{ne(G,a.toString())},be)},[n]);return s.useEffect(()=>{E.current=f,R(f),f!==void 0&&x(!0)},[f,R]),s.useEffect(()=>C(()=>{let a;return p.current===i.Mobile&&l!==i.Mobile&&(a=T()),p.current!==i.Desktop&&l===i.Desktop&&c(!0),p.current===i.Desktop&&l!==i.Desktop&&c(!1),p.current=l,()=>{a?.()}}),[l]),s.useEffect(()=>C(()=>{u&&p.current===i.Tablet&&c(!1),o&&p.current===i.Desktop&&c(!0)}),[u,o]),Le(()=>C(()=>{let a;const L=oe(G);return L?(a=T(),c(L==="true")):(p.current!==i.Desktop?c(!1):E.current===void 0&&(a=T(),c(!0)),R(E.current)),()=>{a?.()}}),[_.key,R]),{expanded:f,setExpanded:c,initialized:d,suppressTransition:N}}const Ce=({className:l=""})=>{const{display:_,queue:u}=re(),{pathname:o,hash:n}=$(),{focusPreload:d}=U(),x=s.useMemo(()=>d?()=>{ae(o,u[1])}:void 0,[d,o,u]);return e.jsx(k,{className:`language-rotator ${l}`,to:ie(le({pathname:o,hash:n}),u[0]),onClick:x,replace:!0,children:_})},F=({icon:l,name:_,expanded:u,selected:o,tooltip:n,noMargin:d,center:x,ellipsis:f,onClick:c,onConditionalClick:N,onCustomFocus:j,to:E,href:p})=>{const{t:T}=X();return e.jsxs(k,{className:I("menu-item",{"menu-item__no-margin":d,"menu-item__expanded":u}),selected:o,selectable:!0,noPadding:!0,tooltip:n,tooltipTitle:_,onClick:c,onConditionalClick:N,onCustomFocus:j,to:E,href:p,children:[e.jsx("div",{className:"menu-item__icon-container",children:l}),e.jsx("div",{className:I("menu-item__title",{"menu-item__title-center":x}),children:e.jsx(Y,{className:I("text__no-wrap",{"text__no-ellipsis":!f}),children:T(_)})})]})},K=m.applicationShortName,W=m.titleImagePath,q=m.menuItems;m.loginPolicy;m.showUnauthorizedProfile;const ke=m.languageSwitch,ve=m.articles,De=m.standaloneArticles,we=m.additionalRoutes,Pe=m.ellipsis.includes(v.Title),Q=m.ellipsis.includes(v.MenuItem),$e=m.centerMenuComponent.includes(v.Title),V=m.centerMenuComponent.includes(v.MenuItem),Ue=me(ge.sideBarTransitionTime),Fe=()=>{const l=ue(t=>t.user),_=$(),{t:u}=X(),{screenType:o}=U(),{expanded:n,setExpanded:d,initialized:x,suppressTransition:f}=Ae(o),{scrollToTop:c}=Re(),[N,j]=s.useState(!1),[E,p]=s.useState(!1),T=l?.authenticated,R=l?.role,a=s.useRef(null),L=s.useRef(null),B=s.useMemo(()=>o===i.Mobile,[o]),O=s.useMemo(()=>o!==i.Desktop,[o]);s.useMemo(()=>!0,[T]);const J=s.useMemo(()=>!0,[T]);s.useMemo(()=>r.Settings,[J]);const D=s.useMemo(()=>ce(_.pathname),[_.pathname]),y=s.useMemo(()=>q.filter(t=>!0),[R]),b=s.useCallback(()=>{O&&d(!1),c()},[d,c,O]),h=()=>{const t=a.current;if(!t)return;const{scrollTop:S,scrollHeight:g,clientHeight:Z}=t,ee=S<=1,te=g-S-Z<=1;j(!ee),p(!te)};return s.useEffect(()=>C(()=>{const t=a.current;if(t)return h(),t.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{t.removeEventListener("scroll",h),window.removeEventListener("resize",h)}}),[x]),s.useEffect(()=>{h()},[y.length]),s.useEffect(()=>{const t=setTimeout(()=>h(),Ue);return()=>clearTimeout(t)},[n]),x?e.jsxs("div",{className:"menu",children:[e.jsxs("div",{className:I("menu__sidebar",{"menu__sidebar-expanded":n,"menu__sidebar-suppress-transition":f}),children:[e.jsxs("header",{role:"banner",className:"menu__header",children:[e.jsx(k,{className:"menu__open-button",onClick:()=>{d(!n)},children:o!==i.Desktop?n?o===i.Tablet?e.jsx(z,{}):e.jsx(Te,{}):e.jsx(Ie,{}):n?e.jsx(z,{}):e.jsx(Ee,{})}),e.jsx(je,{className:I("menu__title",{"menu__title-center":$e,"menu__title-clickable":B}),onConditionalClick:b,disabled:!B,to:"/",children:W?e.jsx("div",{className:"menu__title-image",children:e.jsx(Me,{src:W,alt:K+" "+u("images.titleLogo"),aspectRatio:1})}):e.jsx(Y,{className:I("menu__title-text","text__no-wrap",{"text__no-ellipsis":!Pe}),children:K})})]}),e.jsxs("nav",{role:"navigation",ref:a,className:I("menu__items",{"menu__items-top-border":N,"menu__items-bottom-border":E}),children:[y.map(t=>{const S=t.route===H,g=S?r.Root:t.route;return e.jsx(F,{icon:e.jsx(t.icon,{}),name:u(P(g).name),expanded:n,noMargin:S,ellipsis:Q,center:V,selected:g===D,tooltip:!n,to:w(g),onConditionalClick:b},`menuItem-${t.route}`)}),e.jsx(F,{icon:e.jsx(he,{}),name:u(P(r.Articles.Main).name),expanded:n,ellipsis:Q,center:V,selected:r.Articles.Main===D,tooltip:!n,to:w(r.Articles.Main),onConditionalClick:b},`menuItem-${r.Articles}`)]}),e.jsxs("div",{className:"menu__footer",children:[!1,e.jsx(k,{className:"menu__footer-button",selected:D===r.Info,selectable:!0,tooltip:!0,tooltipTitle:u(P(r.Info).name),tooltipPlacement:n?"top":"right",to:w(r.Info),onConditionalClick:b,children:e.jsx(Se,{})}),ke&&e.jsx(Ce,{className:"menu__footer-button"})]})]}),e.jsx("div",{ref:L,className:I("menu__content",{"menu__content-expanded":n,"menu__content-suppress-transition":f}),onClick:()=>{o===i.Tablet&&d(!1)},children:e.jsx(s.Suspense,{fallback:e.jsx(_e,{}),children:e.jsxs(de,{children:[q.map(t=>{const S=t.route===H;return e.jsx(M,{path:S?r.Root:t.route,element:A(t.route)},`route-${t.route}`)}),e.jsx(M,{path:r.Articles.Main,element:A(r.Articles.Main)},`route-${r.Articles.Main}`),!1,e.jsx(M,{path:r.Info,element:A(r.Info)},`route-${r.Info}`),!De&&ve.map(t=>e.jsx(M,{path:t,element:e.jsx(fe,{route:t,conditionalBack:!0})},`route-${t.replace("/","-")}`)),we.filter(t=>t.renderType==="standalone").map(t=>e.jsx(M,{path:t.route,element:A(t.route,t.props)},`route-${t.route.replace("/","-")}`)),e.jsx(M,{path:"*",element:e.jsx(pe,{})},"route-not-found")]})})})]}):null};export{Fe as default};
