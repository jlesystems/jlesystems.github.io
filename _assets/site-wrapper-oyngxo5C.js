import{e as P,j as a,u as b,b as B,r as t,c as R,s as O,g as H,B as I,l as C,i as g,n as x,q as N,t as w,C as k,A as _}from"./index-Jp8ywQ7B.js";import{u as A}from"./smart-link-CxP0gVRy.js";import{L as M}from"./lazy-image-Bj9riu_5.js";import{C as v}from"./text-CMmbqBiZ.js";function re(s,r){const e=i=>{const{current:n}=P(),l=i,u=r?.(n,l),o={...l,language:n};return u!==void 0?a.jsx(s,{...o},u):a.jsx(s,{...o})};return e.displayName=`WithLanguage(${s.displayName||s.name||"Component"})`,e}const W="14.0625rem",q={bottomOffset:W},S="scroll",D=100;function G(s){const r=b(),{node:e,scrollToHash:i,scrollToY:n,getRelativeScroll:l}=A(),{withTimeout:u,clear:o}=B(),T=t.useRef(r),f=t.useRef(void 0);t.useEffect(()=>R(()=>{if(!e)return;const c=()=>{u(()=>{f.current=l(),O(S,f.current)},D)};return e.addEventListener("scroll",c),()=>{e.removeEventListener("scroll",c),o()}}),[e,o,u,l]),t.useEffect(()=>R(()=>{f.current&&O(S,f.current)}),[r.key]),t.useEffect(()=>R(()=>{const c=H(S);if(c!==void 0){n({relative:c});return}i(T.current)}),[s,i,n])}function U(){const s=t.useRef(void 0),r=t.useRef(null),e=t.useCallback(()=>{s.current!==void 0&&(cancelAnimationFrame(s.current),s.current=void 0)},[]),i=t.useCallback(n=>{r.current=n,e(),s.current=requestAnimationFrame(()=>{r.current?.()})},[e]);return t.useEffect(()=>e,[e]),{withAnimationFrame:i,clear:e}}const Y=200,$=0,K=(s,r)=>{const e=Math.max(0,s.scrollHeight-(s.scrollTop+s.clientHeight));return{isNearBottom:e<=r,distanceToBottom:e}};function X({bottomOffsetPx:s=Y,throttleMs:r=$}={}){const{node:e}=A(),{withTimeout:i,clear:n}=B(),{withAnimationFrame:l,clear:u}=U(),[o,T]=t.useState(()=>({isNearBottom:!1,distanceToBottom:0})),f=t.useRef(o);return t.useEffect(()=>{f.current=o},[o]),t.useEffect(()=>{const c=e;if(!c)return;const E=p=>{const j=f.current;j.isNearBottom===p.isNearBottom&&j.distanceToBottom===p.distanceToBottom||(f.current=p,T(p))},h=()=>E(K(c,s));let m=!1;const d=()=>{if(m)return;m=!0;const p=()=>{m=!1,l(h)};r<=0?p():i(p,r)};d(),c.addEventListener("scroll",d,{passive:!0});const L=new ResizeObserver(()=>d());return L.observe(c),()=>{m=!1,c.removeEventListener("scroll",d),L.disconnect(),n(),u()}},[e,s,r,i,l,n,u]),o}let F=!1;function z(){const s=I();return t.useEffect(()=>{F=!0},[]),s!=="POP"||!F}const V=x.legal,J=x.applicationShortName,y=x.footerImagePath,Q=k(q.bottomOffset),oe=({children:s,hideFooter:r,initialized:e=!0,ready:i=e})=>{const{t:n}=C(),{setRef:l}=A(),{isNearBottom:u}=X({bottomOffsetPx:Q}),o=z(),[T,f]=t.useState(!o),[c,E]=t.useState(!e),h=t.useRef(null),m=t.useRef(null);return t.useEffect(()=>{if(!o||c)return;const d=requestAnimationFrame(()=>{f(!0)});return()=>{cancelAnimationFrame(d)}},[o,c]),t.useEffect(()=>{e&&E(!1)},[e]),t.useEffect(()=>{l(h)},[l,h]),t.useEffect(()=>{m.current?.focus()},[m]),G(i),a.jsx("div",{ref:h,className:g("site-wrapper",{"site-wrapper__near-bottom":u}),children:a.jsx("div",{className:g("site-wrapper__content-shell-background-wrapper",{"site-wrapper__hide-footer":r}),children:a.jsxs("div",{className:g("site-wrapper__content-shell",{"site-wrapper__not-ready":c,"site-wrapper__fade":o,"site-wrapper__fade-in":o&&T}),children:[a.jsx("main",{ref:m,role:"main",tabIndex:-1,className:"site-wrapper__main",children:s}),!r&&a.jsxs("footer",{role:"contentinfo",className:"site-wrapper__footer",children:[a.jsxs("div",{className:"site-wrapper__text-wrapper",children:[a.jsxs("div",{className:"site-wrapper__links",children:[a.jsx(v,{to:N(_.LegalNotice),children:n(w(_.LegalNotice).name)}),a.jsx(v,{to:N(_.PrivacyPolicy),children:n(w(_.PrivacyPolicy).name)}),a.jsx(v,{to:N(_.Terms),children:n(w(_.Terms).name)})]}),a.jsx("div",{className:"site-wrapper__info",children:a.jsx(v,{className:"text__no-wrap",children:`Â© ${new Date().getFullYear()} ${V}`})})]}),y&&a.jsx("div",{className:"site-wrapper__image",children:a.jsx(M,{src:y,alt:J+" "+n("images.footerLogo"),aspectRatio:1})})]})]})})})};export{oe as S,re as w};
