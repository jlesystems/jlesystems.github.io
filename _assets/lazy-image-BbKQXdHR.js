import{u as q,a6 as J,n as Q,a as V,j as l,a7 as X,a5 as C,e as B,a3 as Z,a4 as G,a8 as ee,q as te,a9 as K,a2 as se,aa as ne,s as ae,ab as oe,p as L,b as re,i as ue,ac as ce}from"./index-7Pd8L-8C.js";import{a as r,i as le,a3 as U,a4 as ie,v as fe,d as de}from"./preload-CX4uJaE8.js";const W=e=>t=>{e&&(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),e())};function me(){const e=q(),t=r.useCallback(o=>J(e,o),[e]);return{getConditionalTo:r.useCallback(o=>t(o)?void 0:Q(o),[t]),isCurrentRoute:t}}function Re({to:e,href:t,target:n,rel:o,disabled:f,children:a,className:u,style:c,onClick:s,onConditionalClick:v,onCustomFocus:g,...b},R){const w=q(),{focusPreload:O}=V(),{getConditionalTo:h}=me(),T=e??t,y=ne(T),d=b,{onFocus:E,onMouseEnter:S,...i}=d,x=(k=g)=>j=>{S?.call(null,j),k?.()},p=(k=g)=>j=>{E?.call(null,j),k?.()};if(f)return l.jsx("span",{...i,ref:R,className:u,style:c,"aria-disabled":!0,children:a});if(y==="none")return l.jsx("span",{...i,ref:R,role:s?"button":void 0,tabIndex:s?0:void 0,onMouseEnter:x(),onFocus:p(),onClick:s,onKeyDown:W(s),className:u,style:c,"aria-disabled":f,children:a});if(y==="router"){const{relRoute:k,blank:j}=X(T),{target:P,rel:Y}=j?K(o,n):{target:n,rel:o},F=C(k),A=B(k,F);if(h(A)){let _=()=>{g?.()};if(O&&!((d[Z]||"").toString()==="true")){const I=d[G];if(typeof I=="string"&&I.length>0){const N=C(I),H=B(I,N);_=()=>{g?.(),L(H,N)}}else _=()=>{g?.(),L(A,F)}}const z=D=>{s?.(D),ae(oe,A)};return l.jsx(ee,{...i,ref:R,to:A,target:P,rel:Y,state:{[se]:te(w)},onMouseEnter:x(_),onFocus:p(_),onClick:z,className:u,style:c,children:a})}const M=_=>{s?.(_),v?.(_)},$={[G]:A};return l.jsx("span",{...$,...i,ref:R,role:"button",tabIndex:0,onMouseEnter:x(),onFocus:p(),onClick:M,onKeyDown:W(M),className:u,style:c,"aria-current":!0,children:a})}const m=K(o,n);return l.jsx("a",{...i,ref:R,href:T,onMouseEnter:x(),onFocus:p(),onClick:s,className:u,style:c,...m,children:a})}const Ae=r.forwardRef(Re);function Te(e,t,n,o){const[f,a]=r.useState({src:void 0,loading:!!e&&!t});return r.useEffect(()=>{if(!e||!le()){a({src:void 0,loading:!1});return}if(t){const s=U(e,n);a({src:s,loading:!1});return}const u=ie(e);if(u){a({src:u,loading:!1});return}let c=!1;return a({src:void 0,loading:!0}),fe(e,o).then(s=>{c||a({src:s,loading:!1})}).catch(()=>{if(!c){const s=U(e,n);a({src:s,loading:!1})}}),()=>{c=!0}},[e,t,n,o]),f}const ge=ue.loaderTimeout;function Ee(){const{withTimeout:e}=re(),[t,n]=r.useState(void 0),[o,f]=r.useState(!1),[a,u]=r.useState(!1),c=r.useCallback(v=>{e(()=>{n(v)},v?0:ge)},[e]);r.useEffect(()=>{t===!1?f(!0):t===!0&&u(!0)},[t]);const s=r.useCallback(()=>{n(void 0),f(!1),u(!1)},[]);return{ready:t,shouldAnimate:o,fadeIn:a,setReady:c,reset:s}}const Se=(e,t)=>{const n=t-1,o=t-2;return t<=1?"100%":e===n?"70%":e===o?"85%":"100%"},_e=({rows:e=0})=>e<=0?l.jsx("div",{className:"skeleton skeleton__block","aria-busy":"true"}):l.jsx("div",{className:"skeleton skeleton__rows","aria-busy":"true",children:Array.from({length:e}).map((t,n)=>l.jsx("div",{className:"skeleton__row",style:{width:Se(n,e)}},n))});function ve({src:e,style:t,className:n,onLoad:o,onError:f,fetchPriority:a="high",loading:u="eager",decoding:c="async",disableLazyLoading:s=!1,disableBlob:v=!1,disableAssetHash:g=!1,objectFit:b="cover",aspectRatio:R="auto",...w},O){const{src:h}=Te(e,v,g,a),{ready:T,setReady:y,reset:d}=Ee(),[E,S]=r.useState("none"),i=r.useCallback(m=>{y(m)},[y]);r.useEffect(()=>{s||(e?(d(),S("none"),i(!1)):(d(),S("none")))},[e,d,i,s]),r.useEffect(()=>{if(!s){if(T===!1)S("fade");else if(T===!0&&E==="fade"){const m=requestAnimationFrame(()=>{S("fade-in")});return()=>{cancelAnimationFrame(m)}}}},[T,E,s]),r.useEffect(()=>{s&&(d(),S("none"))},[s,d]);const x=T===!1&&!s,p=s?{}:{"lazy-image__fade":E==="fade"||E==="fade-in","lazy-image__fade-in":E==="fade-in"};return l.jsxs("div",{className:de("lazy-image",n,p),style:t,children:[x&&l.jsx(ce,{children:l.jsx("div",{className:"lazy-image__skeleton",style:{aspectRatio:R},children:l.jsx(_e,{})})}),h&&l.jsx("img",{...w,ref:O,src:h,className:"lazy-image__image",style:{...t||{},objectFit:b,aspectRatio:R},onLoad:m=>{i(!0),o?.(m)},onError:m=>{i(!0),f?.(m)},loading:u,decoding:c,...a?{fetchpriority:a}:{}})]})}const he=r.forwardRef(ve);export{he as L,Ae as S,_e as a,me as b,W as e,Ee as u};
