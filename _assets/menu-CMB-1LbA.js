import{u as $,a as U,b as se,s as ne,r as C,S as i,g as oe,c as re,p as ae,j as e,e as ie,d as ue,f as X,h as le,i as ce,k as m,l as me,n as w,m as P,R as de,o as R,E as A,G as fe,N as pe,L as _e}from"./index-dzPrKldK.js";import{a as s,i as Te,d as I,y as r,K as z,L as xe,M as Ie,N as Ee,D as H,O as he,P as Se,Q as v}from"./preload-sdnFI26d.js";import{S as je}from"./smart-link-Cz-9Zdlg.js";import{C as Y,u as Me}from"./text-zsh7YKxB.js";import{C as k}from"./button-BlOUD3b6.js";import{L as Re}from"./lazy-image-jHlcPs09.js";const Ne="0.5s",ge={sideBarTransitionTime:Ne},Le=Te()?s.useLayoutEffect:s.useEffect,G="expanded",be=100;function Ae(u){const _=$(),{shrinking:l,growing:o}=U(),{withTimeout:n}=se(),[d,T]=s.useState(!1),[f,c]=s.useState(),[N,j]=s.useState(!1),E=s.useRef(f),p=s.useRef(u),x=()=>{j(!0);const a=setTimeout(()=>{j(!1)},50);return()=>{clearTimeout(a)}},M=s.useCallback(a=>{a!==void 0&&n(()=>{ne(G,a.toString())},be)},[n]);return s.useEffect(()=>{E.current=f,M(f),f!==void 0&&T(!0)},[f,M]),s.useEffect(()=>C(()=>{let a;return p.current===i.Mobile&&u!==i.Mobile&&(a=x()),p.current!==i.Desktop&&u===i.Desktop&&c(!0),p.current===i.Desktop&&u!==i.Desktop&&c(!1),p.current=u,()=>{a?.()}}),[u]),s.useEffect(()=>C(()=>{l&&p.current===i.Tablet&&c(!1),o&&p.current===i.Desktop&&c(!0)}),[l,o]),Le(()=>C(()=>{let a;const L=oe(G);return L?(a=x(),c(L==="true")):(p.current!==i.Desktop?c(!1):E.current===void 0&&(a=x(),c(!0)),M(E.current)),()=>{a?.()}}),[_.key,M]),{expanded:f,setExpanded:c,initialized:d,suppressTransition:N}}const Ce=({className:u=""})=>{const{display:_,queue:l}=re(),{pathname:o,hash:n}=$(),{focusPreload:d}=U(),T=s.useMemo(()=>d?()=>{ae(o,l[1])}:void 0,[d,o,l]);return e.jsx(k,{className:`language-rotator ${u}`,to:ie(ue({pathname:o,hash:n}),l[0]),onClick:T,replace:!0,children:_})},F=({icon:u,name:_,expanded:l,selected:o,tooltip:n,noMargin:d,center:T,ellipsis:f,onClick:c,onConditionalClick:N,onCustomFocus:j,to:E,href:p})=>{const{t:x}=X();return e.jsxs(k,{className:I("menu-item",{"menu-item__no-margin":d,"menu-item__expanded":l}),selected:o,selectable:!0,noPadding:!0,tooltip:n,tooltipTitle:_,onClick:c,onConditionalClick:N,onCustomFocus:j,to:E,href:p,children:[e.jsx("div",{className:"menu-item__icon-container",children:u}),e.jsx("div",{className:I("menu-item__title",{"menu-item__title-center":T}),children:e.jsx(Y,{className:I("text__no-wrap",{"text__no-ellipsis":!f}),children:x(_)})})]})},K=m.applicationShortName,W=m.titleImagePath,q=m.menuItems;m.loginPolicy;m.showUnauthorizedProfile;const ke=m.languageSwitch,ve=m.articles,De=m.standaloneArticles,we=m.additionalRoutes,Pe=m.ellipsis.includes(v.Title),Q=m.ellipsis.includes(v.MenuItem),$e=m.centerMenuComponent.includes(v.Title),V=m.centerMenuComponent.includes(v.MenuItem),Ue=me(ge.sideBarTransitionTime),Fe=()=>{const u=le(t=>t.user),_=$(),{t:l}=X(),{screenType:o}=U(),{expanded:n,setExpanded:d,initialized:T,suppressTransition:f}=Ae(o),{scrollToTop:c}=Me(),[N,j]=s.useState(!1),[E,p]=s.useState(!1),x=u?.authenticated,M=u?.role,a=s.useRef(null),L=s.useRef(null),B=s.useMemo(()=>o===i.Mobile,[o]),O=s.useMemo(()=>o!==i.Desktop,[o]);s.useMemo(()=>!0,[x]);const J=s.useMemo(()=>!0,[x]);s.useMemo(()=>r.Settings,[J]);const D=s.useMemo(()=>ce(_.pathname),[_.pathname]),y=s.useMemo(()=>q.filter(t=>!0),[M]),b=s.useCallback(()=>{O&&d(!1),c()},[d,c,O]),h=()=>{const t=a.current;if(!t)return;const{scrollTop:S,scrollHeight:g,clientHeight:Z}=t,ee=S<=1,te=g-S-Z<=1;j(!ee),p(!te)};return s.useEffect(()=>C(()=>{const t=a.current;if(t)return h(),t.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{t.removeEventListener("scroll",h),window.removeEventListener("resize",h)}}),[T]),s.useEffect(()=>{h()},[y.length]),s.useEffect(()=>{const t=setTimeout(()=>h(),Ue);return()=>clearTimeout(t)},[n]),T?e.jsxs("div",{className:"menu",children:[e.jsxs("div",{className:I("menu__sidebar",{"menu__sidebar-expanded":n,"menu__sidebar-suppress-transition":f}),children:[e.jsxs("header",{role:"banner",className:"menu__header",children:[e.jsx(k,{className:"menu__open-button",onClick:()=>{d(!n)},children:o!==i.Desktop?n?o===i.Tablet?e.jsx(z,{}):e.jsx(xe,{}):e.jsx(Ie,{}):n?e.jsx(z,{}):e.jsx(Ee,{})}),e.jsx(je,{className:I("menu__title",{"menu__title-center":$e,"menu__title-clickable":B}),onConditionalClick:b,disabled:!B,to:"/",children:W?e.jsx(Re,{className:"menu__title-image",src:W,alt:K+" "+l("images.titleLogo"),objectFit:"contain"}):e.jsx(Y,{className:I("menu__title-text","text__no-wrap",{"text__no-ellipsis":!Pe}),children:K})})]}),e.jsxs("nav",{role:"navigation",ref:a,className:I("menu__items",{"menu__items-top-border":N,"menu__items-bottom-border":E}),children:[y.map(t=>{const S=t.route===H,g=S?r.Root:t.route;return e.jsx(F,{icon:e.jsx(t.icon,{}),name:l(P(g).name),expanded:n,noMargin:S,ellipsis:Q,center:V,selected:g===D,tooltip:!n,to:w(g),onConditionalClick:b},`menuItem-${t.route}`)}),e.jsx(F,{icon:e.jsx(he,{}),name:l(P(r.Articles.Main).name),expanded:n,ellipsis:Q,center:V,selected:r.Articles.Main===D,tooltip:!n,to:w(r.Articles.Main),onConditionalClick:b},`menuItem-${r.Articles}`)]}),e.jsxs("div",{className:"menu__footer",children:[!1,e.jsx(k,{className:"menu__footer-button",selected:D===r.Info,selectable:!0,tooltip:!0,tooltipTitle:l(P(r.Info).name),tooltipPlacement:n?"top":"right",to:w(r.Info),onConditionalClick:b,children:e.jsx(Se,{})}),ke&&e.jsx(Ce,{className:"menu__footer-button"})]})]}),e.jsx("div",{ref:L,className:I("menu__content",{"menu__content-expanded":n,"menu__content-suppress-transition":f}),onClick:()=>{o===i.Tablet&&d(!1)},children:e.jsx(s.Suspense,{fallback:e.jsx(_e,{}),children:e.jsxs(de,{children:[q.map(t=>{const S=t.route===H;return e.jsx(R,{path:S?r.Root:t.route,element:A(t.route)},`route-${t.route}`)}),e.jsx(R,{path:r.Articles.Main,element:A(r.Articles.Main)},`route-${r.Articles.Main}`),!1,e.jsx(R,{path:r.Info,element:A(r.Info)},`route-${r.Info}`),!De&&ve.map(t=>e.jsx(R,{path:t,element:e.jsx(fe,{route:t,conditionalBack:!0})},`route-${t.replace("/","-")}`)),we.filter(t=>t.renderType==="standalone").map(t=>e.jsx(R,{path:t.route,element:A(t.route,t.props)},`route-${t.route.replace("/","-")}`)),e.jsx(R,{path:"*",element:e.jsx(pe,{})},"route-not-found")]})})})]}):null};export{Fe as default};
