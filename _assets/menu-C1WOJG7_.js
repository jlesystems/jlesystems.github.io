import{u as P,a as U,b as te,s as se,r as C,S as i,c as ne,g as oe,d as re,p as ae,j as e,e as ie,f as le,h as ue,i as ce,k as me,l as de,n as w,m as $,R as pe,o as M,E as A,G as fe,N as _e,L as xe}from"./index-BtWyyNzF.js";import{a as s,d as T,A as r,S as m,W as y,X as Te,Y as Ie,Z as Ee,D as H,$ as he,a0 as Se,a1 as v}from"./preload-CKswhi8o.js";import{S as je}from"./smart-link-DjsSV6rX.js";import{C as V,u as Re}from"./text-DnVX74kx.js";import{C as k}from"./button-BJ6U-P_D.js";import{L as Me}from"./lazy-image-BkOYWWOL.js";const ge="0.5s",Ne={sideBarTransitionTime:ge},G="expanded",Le=100;function be(l){const _=P(),{shrinking:u,growing:o}=U(),{withTimeout:n}=te(),[d,x]=s.useState(!1),[p,c]=s.useState(),[g,S]=s.useState(!1),I=s.useRef(p),f=s.useRef(l),j=()=>{S(!0);const a=setTimeout(()=>{S(!1)},50);return()=>{clearTimeout(a)}},R=s.useCallback(a=>{a!==void 0&&n(()=>{se(G,a.toString())},Le)},[n]);return s.useEffect(()=>{I.current=p,R(p),p!==void 0&&x(!0)},[p,R]),s.useEffect(()=>C(()=>{let a;return f.current===i.Mobile&&l!==i.Mobile&&(a=j()),f.current!==i.Desktop&&l===i.Desktop&&c(!0),f.current===i.Desktop&&l!==i.Desktop&&c(!1),f.current=l,()=>{a?.()}}),[l]),s.useEffect(()=>C(()=>{u&&f.current===i.Tablet&&c(!1),o&&f.current===i.Desktop&&c(!0)}),[u,o]),ne(()=>C(()=>{let a;const L=oe(G);return L?(a=j(),c(L==="true")):(f.current!==i.Desktop?c(!1):I.current===void 0&&(a=j(),c(!0)),R(I.current)),()=>{a?.()}}),[_.key,R]),{expanded:p,setExpanded:c,initialized:d,suppressTransition:g}}const Ae=({className:l=""})=>{const{display:_,queue:u}=re(),{pathname:o,hash:n}=P(),{focusPreload:d}=U(),x=s.useMemo(()=>d?()=>{ae(o,u[1])}:void 0,[d,o,u]);return e.jsx(k,{className:`language-rotator ${l}`,to:ie(le({pathname:o,hash:n}),u[0]),onClick:x,replace:!0,children:_})},W=({icon:l,name:_,expanded:u,selected:o,tooltip:n,noMargin:d,center:x,ellipsis:p,onClick:c,onConditionalClick:g,onCustomFocus:S,to:I,href:f})=>e.jsxs(k,{className:T("menu-item",{"menu-item__no-margin":d,"menu-item__expanded":u}),selected:o,selectable:!0,noPadding:!0,tooltip:n,tooltipTitle:_,onClick:c,onConditionalClick:g,onCustomFocus:S,to:I,href:f,children:[e.jsx("div",{className:"menu-item__icon-container",children:l}),e.jsx("div",{className:T("menu-item__title",{"menu-item__title-center":x}),children:e.jsx(V,{className:T("text__no-wrap",{"text__no-ellipsis":!p}),children:_})})]}),F=m.applicationShortName,K=m.titleImagePath,X=m.menuItems;m.loginPolicy;m.showUnauthorizedProfile;const Ce=m.languageSwitch,ke=m.articles,ve=m.standaloneArticles,De=m.additionalRoutes,we=m.ellipsis.includes(v.Title),Y=m.ellipsis.includes(v.MenuItem),$e=m.centerMenuComponent.includes(v.Title),q=m.centerMenuComponent.includes(v.MenuItem),Pe=de(Ne.sideBarTransitionTime),Ge=()=>{const l=ue(t=>t.user),_=P(),{t:u}=ce(),{screenType:o}=U(),{expanded:n,setExpanded:d,initialized:x,suppressTransition:p}=be(o),{scrollToTop:c}=Re(),[g,S]=s.useState(!1),[I,f]=s.useState(!1),j=l?.authenticated,R=l?.role,a=s.useRef(null),L=s.useRef(null),B=s.useMemo(()=>o===i.Mobile,[o]),O=s.useMemo(()=>o!==i.Desktop,[o]);s.useMemo(()=>!0,[j]);const Z=s.useMemo(()=>!0,[j]);s.useMemo(()=>r.Settings,[Z]);const D=s.useMemo(()=>me(_.pathname),[_.pathname]),z=s.useMemo(()=>X.filter(t=>!0),[R]),b=s.useCallback(()=>{O&&d(!1),c()},[d,c,O]),E=()=>{const t=a.current;if(!t)return;const{scrollTop:h,scrollHeight:N,clientHeight:J}=t,Q=h<=1,ee=N-h-J<=1;S(!Q),f(!ee)};return s.useEffect(()=>C(()=>{const t=a.current;if(t)return E(),t.addEventListener("scroll",E),window.addEventListener("resize",E),()=>{t.removeEventListener("scroll",E),window.removeEventListener("resize",E)}}),[x]),s.useEffect(()=>{E()},[z.length]),s.useEffect(()=>{const t=setTimeout(()=>E(),Pe);return()=>clearTimeout(t)},[n]),x?e.jsxs("div",{className:"menu",children:[e.jsxs("div",{className:T("menu__sidebar",{"menu__sidebar-expanded":n,"menu__sidebar-suppress-transition":p}),children:[e.jsxs("header",{role:"banner",className:"menu__header",children:[e.jsx(k,{className:"menu__open-button",onClick:()=>{d(!n)},children:o!==i.Desktop?n?o===i.Tablet?e.jsx(y,{}):e.jsx(Te,{}):e.jsx(Ie,{}):n?e.jsx(y,{}):e.jsx(Ee,{})}),e.jsx(je,{className:T("menu__title",{"menu__title-center":$e,"menu__title-clickable":B}),onConditionalClick:b,disabled:!B,to:"/",children:K?e.jsx("div",{className:"menu__title-image",children:e.jsx(Me,{src:K,alt:F+" "+u("images.titleLogo"),aspectRatio:1})}):e.jsx(V,{className:T("menu__title-text","text__no-wrap",{"text__no-ellipsis":!we}),children:F})})]}),e.jsxs("nav",{role:"navigation",ref:a,className:T("menu__items",{"menu__items-top-border":g,"menu__items-bottom-border":I}),children:[z.map(t=>{const h=t.route===H,N=h?r.Root:t.route;return e.jsx(W,{icon:e.jsx(t.icon,{}),name:u($(N).name),expanded:n,noMargin:h,ellipsis:Y,center:q,selected:N===D,tooltip:!n,to:w(N),onConditionalClick:b},`menuItem-${t.route}`)}),e.jsx(W,{icon:e.jsx(he,{}),name:u($(r.Articles.Main).name),expanded:n,ellipsis:Y,center:q,selected:r.Articles.Main===D,tooltip:!n,to:w(r.Articles.Main),onConditionalClick:b},`menuItem-${r.Articles}`)]}),e.jsxs("div",{className:"menu__footer",children:[!1,e.jsx(k,{className:"menu__footer-button",selected:D===r.Info,selectable:!0,tooltip:!0,tooltipTitle:u($(r.Info).name),tooltipPlacement:n?"top":"right",to:w(r.Info),onConditionalClick:b,children:e.jsx(Se,{})}),Ce&&e.jsx(Ae,{className:"menu__footer-button"})]})]}),e.jsx("div",{ref:L,className:T("menu__content",{"menu__content-expanded":n,"menu__content-suppress-transition":p}),onClick:()=>{o===i.Tablet&&d(!1)},children:e.jsx(s.Suspense,{fallback:e.jsx(xe,{}),children:e.jsxs(pe,{children:[X.map(t=>{const h=t.route===H;return e.jsx(M,{path:h?r.Root:t.route,element:A(t.route)},`route-${t.route}`)}),e.jsx(M,{path:r.Articles.Main,element:A(r.Articles.Main)},`route-${r.Articles.Main}`),!1,e.jsx(M,{path:r.Info,element:A(r.Info)},`route-${r.Info}`),!ve&&ke.map(t=>e.jsx(M,{path:t,element:e.jsx(fe,{route:t,conditionalBack:!0})},`route-${t.replace("/","-")}`)),De.filter(t=>t.renderType==="standalone").map(t=>e.jsx(M,{path:t.route,element:A(t.route,t.props)},`route-${t.route.replace("/","-")}`)),e.jsx(M,{path:"*",element:e.jsx(_e,{})},"route-not-found")]})})})]}):null};export{Ge as default};
