import{u as U,a as B,b as se,s as ne,r as b,S as i,c as oe,g as re,d as ae,p as ie,j as e,e as le,f as ce,h as ue,i as me,k as de,l as fe,n as $,m as P,R as pe,o as g,E as C,G as _e,N as xe,L as Te}from"./index-Cxd6CYkM.js";import{a as s,d as S,A as a,S as m,W as H,X as Ie,Y as Ee,Z as Se,D as G,$ as he,a0 as je,a1 as v}from"./preload-BhVOm_Yy.js";import{S as Me}from"./smart-link-BUu0LcsM.js";import{C as Z,u as Re}from"./text-CLzslBI2.js";import{C as k}from"./button-BjolXyqz.js";import{L as ge}from"./lazy-image-Dlfws9xi.js";const Ne="0.5s",be={sideBarTransitionTime:Ne},W="expanded",Le=100;function Ae(l){const _=U(),{shrinking:c,growing:n}=B(),{withTimeout:o}=se(),[f,x]=s.useState(!1),[p,u]=s.useState(),[N,h]=s.useState(!1),j=s.useRef(p),d=s.useRef(l),M=()=>{h(!0);const r=setTimeout(()=>{h(!1)},50);return()=>{clearTimeout(r)}},R=s.useCallback(r=>{r!==void 0&&o(()=>{ne(W,r.toString())},Le)},[o]);return s.useEffect(()=>{j.current=p,R(p),p!==void 0&&x(!0)},[p,R]),s.useEffect(()=>b(()=>{let r;return d.current===i.Mobile&&l!==i.Mobile&&(r=M()),d.current!==i.Desktop&&l===i.Desktop&&u(!0),d.current===i.Desktop&&l!==i.Desktop&&u(!1),d.current=l,()=>{r?.()}}),[l]),s.useEffect(()=>b(()=>{c&&d.current===i.Tablet&&u(!1),n&&d.current===i.Desktop&&u(!0)}),[c,n]),oe(()=>b(()=>{let r;const L=re(W);return L?(r=M(),u(L==="true")):(d.current!==i.Desktop?u(!1):j.current===void 0&&(r=M(),u(!0)),R(j.current)),()=>{r?.()}}),[_.key,R]),{expanded:p,setExpanded:u,initialized:f,suppressTransition:N}}const Ce=({className:l=""})=>{const{display:_,queue:c}=ae(),{pathname:n,hash:o}=U(),{focusPreload:f}=B(),x=s.useMemo(()=>f?()=>{ie(n,c[1])}:void 0,[f,n,c]);return e.jsx(k,{className:`language-rotator ${l}`,to:le(ce({pathname:n,hash:o}),c[0]),onClick:x,replace:!0,children:_})},F=({icon:l,name:_,expanded:c,selected:n,tooltip:o,noMargin:f,center:x,ellipsis:p,onClick:u,onConditionalClick:N,onCustomFocus:h,to:j,href:d})=>e.jsxs(k,{className:S("menu-item",{"menu-item__no-margin":f,"menu-item__expanded":c,"menu-item__selected":n}),selected:n,selectable:!0,noPadding:!0,tooltip:o,tooltipTitle:_,onClick:u,onConditionalClick:N,onCustomFocus:h,to:j,href:d,children:[e.jsx("div",{className:"menu-item__icon-container",children:l}),e.jsx("div",{className:S("menu-item__title",{"menu-item__title-center":x}),children:e.jsx(Z,{className:S("text__no-wrap",{"text__no-ellipsis":!p}),children:_})})]}),V=m.applicationShortName,q=m.titleImagePath,K=m.menuItems;m.loginPolicy;m.showUnauthorizedProfile;const ke=m.languageSwitch,ve=m.articles,De=m.standaloneArticles,we=m.additionalRoutes,$e=m.ellipsis.includes(v.Title),X=m.ellipsis.includes(v.MenuItem),Pe=m.centerMenuComponent.includes(v.Title),Y=m.centerMenuComponent.includes(v.MenuItem),Ue=fe(be.sideBarTransitionTime),We=()=>{const l=ue(t=>t.user),_=U(),{t:c}=me(),{screenType:n}=B(),{expanded:o,setExpanded:f,initialized:x,suppressTransition:p}=Ae(n),{scrollToTop:u}=Re(),[N,h]=s.useState(!1),[j,d]=s.useState(!1),M=l?.authenticated,R=l?.role,r=s.useRef(null),L=s.useRef(null),y=s.useMemo(()=>n===i.Mobile,[n]),z=s.useMemo(()=>n!==i.Desktop,[n]);s.useMemo(()=>!0,[M]);const J=s.useMemo(()=>!0,[M]);s.useMemo(()=>a.Settings,[J]);const D=s.useMemo(()=>de(_.pathname),[_.pathname]),O=s.useMemo(()=>K.filter(t=>!0),[R]),A=s.useCallback(()=>{z&&f(!1),u()},[f,u,z]),I=()=>{const t=r.current;if(!t)return;const{scrollTop:T,scrollHeight:E,clientHeight:Q}=t,ee=T<=1,te=E-T-Q<=1;h(!ee),d(!te)},w=(t="instant")=>{const T=r.current;if(T){const E=T.querySelector('[aria-current="page"], .menu-item__selected');E&&E.scrollIntoView({block:"nearest",behavior:t})}};return s.useEffect(()=>b(()=>{x&&w()}),[_.pathname,x]),s.useEffect(()=>b(()=>{const t=r.current;if(t)return I(),t.addEventListener("scroll",I),window.addEventListener("resize",I),()=>{t.removeEventListener("scroll",I),window.removeEventListener("resize",I)}}),[x]),s.useEffect(()=>{I(),w()},[O.length]),s.useEffect(()=>{let t;return h(!1),d(!1),n!==i.Mobile?(w(),I()):t=setTimeout(()=>{I()},Ue),()=>{t!==void 0&&clearTimeout(t)}},[o,n]),x?e.jsxs("div",{className:"menu",children:[e.jsxs("div",{className:S("menu__sidebar",{"menu__sidebar-expanded":o,"menu__sidebar-suppress-transition":p}),children:[e.jsxs("header",{role:"banner",className:"menu__header",children:[e.jsx(k,{className:"menu__open-button",onClick:()=>{f(!o)},children:n!==i.Desktop?o?n===i.Tablet?e.jsx(H,{}):e.jsx(Ie,{}):e.jsx(Ee,{}):o?e.jsx(H,{}):e.jsx(Se,{})}),e.jsx(Me,{className:S("menu__title",{"menu__title-center":Pe,"menu__title-clickable":y}),onConditionalClick:A,disabled:!y,to:"/",children:q?e.jsx("div",{className:"menu__title-image",children:e.jsx(ge,{src:q,alt:V+" "+c("images.titleLogo"),aspectRatio:1})}):e.jsx(Z,{className:S("menu__title-text","text__no-wrap",{"text__no-ellipsis":!$e}),children:V})})]}),e.jsxs("nav",{role:"navigation",ref:r,className:S("menu__items",{"menu__items-top-border":N,"menu__items-bottom-border":j}),children:[O.map(t=>{const T=t.route===G,E=T?a.Root:t.route;return e.jsx(F,{icon:e.jsx(t.icon,{}),name:c(P(E).name),expanded:o,noMargin:T,ellipsis:X,center:Y,selected:E===D,tooltip:!o,to:$(E),onConditionalClick:A},`menuItem-${t.route}`)}),e.jsx(F,{icon:e.jsx(he,{}),name:c(P(a.Articles.Main).name),expanded:o,ellipsis:X,center:Y,selected:a.Articles.Main===D,tooltip:!o,to:$(a.Articles.Main),onConditionalClick:A},`menuItem-${a.Articles}`)]}),e.jsxs("div",{className:"menu__footer",children:[!1,e.jsx(k,{className:"menu__footer-button",selected:D===a.Info,selectable:!0,tooltip:!0,tooltipTitle:c(P(a.Info).name),tooltipPlacement:o?"top":"right",to:$(a.Info),onConditionalClick:A,children:e.jsx(je,{})}),ke&&e.jsx(Ce,{className:"menu__footer-button"})]})]}),e.jsx("div",{ref:L,className:S("menu__content",{"menu__content-expanded":o,"menu__content-suppress-transition":p}),onClick:()=>{n===i.Tablet&&f(!1)},children:e.jsx(s.Suspense,{fallback:e.jsx(Te,{}),children:e.jsxs(pe,{children:[K.map(t=>{const T=t.route===G;return e.jsx(g,{path:T?a.Root:t.route,element:C(t.route)},`route-${t.route}`)}),e.jsx(g,{path:a.Articles.Main,element:C(a.Articles.Main)},`route-${a.Articles.Main}`),!1,e.jsx(g,{path:a.Info,element:C(a.Info)},`route-${a.Info}`),!De&&ve.map(t=>e.jsx(g,{path:t,element:e.jsx(_e,{route:t,conditionalBack:!0})},`route-${t.replace("/","-")}`)),we.filter(t=>t.renderType==="standalone").map(t=>e.jsx(g,{path:t.route,element:C(t.route,t.props)},`route-${t.route.replace("/","-")}`)),e.jsx(g,{path:"*",element:e.jsx(xe,{})},"route-not-found")]})})})]}):null};export{We as default};
