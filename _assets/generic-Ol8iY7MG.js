import{r as e,j as n,k as j,y as k}from"./index-CBVc_lBt.js";import{w as S,S as h}from"./site-wrapper-BufUZytX.js";import{u as E,S as g}from"./lazy-image-6rqn1As7.js";import{M as v}from"./markdown-renderer.lazy-DFTomEEZ.js";import"./smart-link-CyzawILe.js";import"./text-CbEI0Jpb.js";function z(){const[r,t]=e.useState(!1),[a,o]=e.useState(!1);return{ready:r,setReady:t,initialized:a,setInitialized:o}}const I="6",G={rows:I},N=({filePath:r,language:t,onInitialized:a,onReady:o,conditionalBack:d,components:i,className:c,rows:y=Number(G.rows),waitOnImageLoad:w=!1})=>{const{ready:s,shouldAnimate:f,fadeIn:x,setReady:u,reset:m}=E(),l=e.useRef(),p=e.useRef(),R=e.useRef(void 0);return e.useEffect(()=>{p.current=a},[a]),e.useEffect(()=>{l.current=o},[o]),e.useEffect(()=>{(s===void 0||s!==R.current)&&(R.current=s,p.current?.(s!==void 0),l.current?.(s===!0))},[s]),e.useEffect(()=>{m(),u(!1)},[t,r,m,u]),n.jsxs("div",{className:j("markdown-renderer-gated",c,{"markdown-renderer-gated__fade":f,"markdown-renderer-gated__fade-in":f&&x}),children:[s===!1&&n.jsx(g,{rows:y}),n.jsx(e.Suspense,{children:n.jsx(v,{filePath:r,language:t,onReady:u,conditionalBack:d,components:i,waitOnImageLoad:w})})]})},_=({route:r,conditionalBack:t,language:a})=>{const{ready:o,setReady:d,initialized:i,setInitialized:c}=z();return n.jsx(h,{ready:o,initialized:i,children:n.jsx("div",{className:"generic-page",children:n.jsx(N,{filePath:k(r),language:a,onReady:d,onInitialized:c,conditionalBack:t})})})},L=S(_,(r,t)=>`${r}/${t.route}`);export{L as default};
