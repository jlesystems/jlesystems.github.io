import{u as d,aC as B,aH as E,r as t,c as S,h}from"./index-D33t_gME.js";import{a as z}from"./smart-link-Di6FDiSW.js";function L(){const{pathname:n}=d(),e=B(),{isCurrentRoute:i}=z(),{initialized:c,prev:r}=E(),[l,p]=t.useState(!1),[s,m]=t.useState(),[k,v]=t.useState(),o=t.useMemo(()=>n.split("/").slice(0,-1).join("/"),[n]),u=t.useRef(()=>e(-1));return t.useEffect(()=>{u.current=()=>e(-1)},[e]),t.useEffect(()=>{c&&S(()=>{const f=r?.rel,a=!!f&&!i(f),C=a?void 0:h(o);v({to:C,onClick:a?()=>u.current():void 0}),m(a)})},[c,r?.rel,o,i]),t.useEffect(()=>{s!==void 0&&p(!0)},[s]),{canGoBack:s,initialized:l,previousPath:o,props:k}}export{L as u};
